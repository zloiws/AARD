# Meta Tracker — implementation notes\n\nThis document describes the minimal MetaTracker implemented at `backend/app/core/meta_tracker.py` and how to extend it.\n\n## Purpose\n\nMetaTracker centralizes tracking of component creation/modification (agents, tools, artifacts) and records evolution history. It also broadcasts meta-events to WebSocket clients so the frontend can visualize system evolution in real time.\n\n## Location\n\n- Implementation: `backend/app/core/meta_tracker.py`\n- Evolution model: `backend/app/models/evolution.py`\n- Artifacts: `backend/app/models/artifact.py`\n\n## Current features (minimal)\n\n- `MetaTracker.track_code_generation(event)` — records a new artifact (if missing) and writes an `EvolutionHistory` entry with `ChangeType.CREATED`.\n- `MetaTracker.track_code_modification(event)` — updates artifact, increments version, writes `EvolutionHistory` entry with `ChangeType.UPDATED`.\n- `MetaTracker.get_evolution_graph(entity_id)` — returns a simple timeline of evolution entries.\n- Best-effort WebSocket broadcast via the WebSocket manager in `app.api.routes.websocket_events`.\n\n## How to extend\n\n1. Add file-system watching (watchdog) to capture runtime file changes.\n2. Integrate with CI/pull-request hooks to record author and diff metadata.\n3. Add richer analysis and diff storage (store diffs, code hash, test results).\n4. Provide REST API endpoints under `backend/app/api/routes/meta.py`.\n\n## Notes\n\n- This is intentionally conservative to avoid circular imports during app startup. The WebSocket manager is imported lazily inside `_broadcast_meta_event`.\n- All DB interactions use `SessionLocal` to create short-lived sessions.\n\n*** End Patch"}]**poser code_chunks**|()

