# Исправление проблемы с пустым сообщением

## Проблема
В параметрах запроса видно: `message: ''` - поле сообщения пустое

## Причина
Поле `message` очищается в `handleSubmit` ДО того, как HTMX собирает данные формы.

## Решение
1. Убрал очистку поля из `handleSubmit`
2. Переместил очистку и добавление сообщения в чат в событие `htmx:beforeRequest`
3. Это событие срабатывает ПОСЛЕ того, как HTMX собрал данные формы, но ДО отправки запроса

## Логика работы:
1. Пользователь нажимает "Отправить"
2. `handleSubmit` проверяет наличие сообщения (но не очищает поле)
3. HTMX собирает данные из формы (включая сообщение)
4. Срабатывает `htmx:beforeRequest` - здесь добавляем сообщение в чат и очищаем поле
5. Отправляется запрос с правильными данными

