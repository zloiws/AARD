ФАЗА 7: Команды агентов
Цель: Реализовать систему команд специализированных агентов.

Этап 7.1: Модель команды агентов
Шаг 7.1.1: Создать модель AgentTeam
Файлы:

backend/app/models/agent_team.py (новый)
Миграция 024_add_agent_teams.py
Задача:

Модель команды агентов
Поля: name, description, roles, coordination_strategy
Связь с агентами через промежуточную таблицу
Тесты:

Частный: backend/tests/test_agent_team_model.py
Общий: Интеграция с БД
Документация: Создать docs/guides/AGENT_TEAMS.md

Коммит: feat(phase7.1.1): модель AgentTeam

Шаг 7.1.2: Реализовать AgentTeamService
Файлы:

backend/app/services/agent_team_service.py (новый)
Задача:

Создание команды
Назначение ролей агентам
Управление составом команды
Тесты:

Частный: backend/tests/test_agent_team_service.py
Общий: Интеграция
Документация: Обновить документацию

Коммит: feat(phase7.1.2): AgentTeamService

Тест этапа 7.1: backend/tests/integration/test_agent_teams.py

Документация этапа: Обновить docs/guides/AGENT_TEAMS.md

Коммит этапа: feat(phase7.1): модель команды агентов

---

Этап 7.2: Координация работы команды
Шаг 7.2.1: Реализовать координацию через A2A протокол
Файлы:

backend/app/services/agent_team_service.py
Использование существующего A2A Router
Задача:

Распределение задач между агентами команды
Координация выполнения
Передача результатов между агентами
Тесты:

Частный: Тесты координации
Общий: Полный цикл работы команды
Документация: Обновить документацию

Коммит: feat(phase7.2.1): координация команды через A2A

Шаг 7.2.2: Интегрировать команды в PlanningService
Файлы:

backend/app/services/planning_service.py
Использование команд при назначении агентов шагам
Задача:

Выбор команды агентов для задачи
Распределение шагов плана между агентами команды
Координация выполнения
Тесты:

Частный: Тесты интеграции
Общий: Полный цикл планирования с командой
Документация: Обновить документацию

Коммит: feat(phase7.2.2): интеграция команд в PlanningService

Тест этапа 7.2: backend/tests/integration/test_agent_team_coordination.py

Документация этапа: Обновить документацию

Коммит этапа: feat(phase7.2): координация работы команды

---

Тест фазы 7: backend/tests/integration/test_agent_teams_complete.py

Документация фазы: Создать docs/guides/AGENT_TEAMS.md (полный обзор)

Коммит фазы: feat(phase7): команды агентов

Правила выполнения плана
После каждого ШАГА:
Частный тест: Тест конкретной функции/метода
Общий тест: Интеграционный или комплексный тест
Документация: Обновить соответствующую документацию
Коммит: Создать коммит с описанием изменений
После каждого ЭТАПА:
Этапный тест: Комплексный тест всего этапа
Документация этапа: Создать/обновить документацию этапа
Коммит этапа: Коммит с префиксом feat(phaseX.Y):
После каждой ФАЗЫ:
Фазный тест: Полный тест всей фазы
Документация фазы: Полная документация фазы
Коммит фазы: Коммит с префиксом feat(phaseX):
Согласование между элементами:
Каждый шаг должен быть независим и тестируем
Зависимости между шагами явно указаны
Тесты каждого уровня проверяют согласованность с предыдущими уровнями
Документация обновляется на каждом уровне
Поддерживается целостность архитектуры проекта