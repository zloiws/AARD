{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/work/AARD/ui/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Card = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\r\n      \"rounded-xl border bg-card text-card-foreground shadow\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nCard.displayName = \"Card\"\r\n\r\nconst CardHeader = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\r\n    {...props}\r\n  />\r\n))\r\nCardHeader.displayName = \"CardHeader\"\r\n\r\nconst CardTitle = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"font-semibold leading-none tracking-tight\", className)}\r\n    {...props}\r\n  />\r\n))\r\nCardTitle.displayName = \"CardTitle\"\r\n\r\nconst CardDescription = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n))\r\nCardDescription.displayName = \"CardDescription\"\r\n\r\nconst CardContent = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\r\n))\r\nCardContent.displayName = \"CardContent\"\r\n\r\nconst CardFooter = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"flex items-center p-6 pt-0\", className)}\r\n    {...props}\r\n  />\r\n))\r\nCardFooter.displayName = \"CardFooter\"\r\n\r\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,mNAAgB,CAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,yDACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,6CAA6C;QAC1D,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,mNAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,kHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 89, "column": 0}, "map": {"version":3,"sources":["file:///C:/work/AARD/ui/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nexport interface TextareaProps\r\n  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\r\n\r\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\r\n  ({ className, ...props }, ref) => {\r\n    return (\r\n      <textarea\r\n        className={cn(\r\n          \"flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50\",\r\n          className\r\n        )}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nTextarea.displayName = \"Textarea\"\r\n\r\nexport { Textarea }\r\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAKA,MAAM,yBAAW,mNAAgB,CAC/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,8OAAC;QACC,WAAW,IAAA,kHAAE,EACX,gQACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 116, "column": 0}, "map": {"version":3,"sources":["file:///C:/work/AARD/ui/components/ui/label.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst labelVariants = cva(\r\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\r\n)\r\n\r\nconst Label = React.forwardRef<\r\n  React.ElementRef<typeof LabelPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\r\n    VariantProps<typeof labelVariants>\r\n>(({ className, ...props }, ref) => (\r\n  <LabelPrimitive.Root\r\n    ref={ref}\r\n    className={cn(labelVariants(), className)}\r\n    {...props}\r\n  />\r\n))\r\nLabel.displayName = LabelPrimitive.Root.displayName\r\n\r\nexport { Label }\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,IAAA,uKAAG,EACvB;AAGF,MAAM,sBAAQ,mNAAgB,CAI5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,yKAAmB;QAClB,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iBAAiB;QAC9B,GAAG,KAAK;;;;;;AAGb,MAAM,WAAW,GAAG,yKAAmB,CAAC,WAAW"}},
    {"offset": {"line": 147, "column": 0}, "map": {"version":3,"sources":["file:///C:/work/AARD/ui/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nexport interface InputProps\r\n  extends React.InputHTMLAttributes<HTMLInputElement> {}\r\n\r\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\r\n  ({ className, type, ...props }, ref) => {\r\n    return (\r\n      <input\r\n        type={type}\r\n        className={cn(\r\n          \"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50\",\r\n          className\r\n        )}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nInput.displayName = \"Input\"\r\n\r\nexport { Input }\r\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAKA,MAAM,sBAAQ,mNAAgB,CAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,8OAAC;QACC,MAAM;QACN,WAAW,IAAA,kHAAE,EACX,8VACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 175, "column": 0}, "map": {"version":3,"sources":["file:///C:/work/AARD/ui/components/ui/select.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport { cn } from \"@/lib/utils\"\r\nimport { ChevronDown } from \"lucide-react\"\r\n\r\nexport interface SelectProps {\r\n  value?: string\r\n  onValueChange?: (value: string) => void\r\n  disabled?: boolean\r\n  children: React.ReactNode\r\n}\r\n\r\nconst SelectContext = React.createContext<{\r\n  value?: string\r\n  onValueChange?: (value: string) => void\r\n  disabled?: boolean\r\n}>({})\r\n\r\nexport function Select({ value, onValueChange, disabled, children }: SelectProps) {\r\n  return (\r\n    <SelectContext.Provider value={{ value, onValueChange, disabled }}>\r\n      <div className=\"relative\">{children}</div>\r\n    </SelectContext.Provider>\r\n  )\r\n}\r\n\r\nexport interface SelectTriggerProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\r\n  children: React.ReactNode\r\n}\r\n\r\nexport const SelectTrigger = React.forwardRef<HTMLButtonElement, SelectTriggerProps>(\r\n  ({ className, children, ...props }, ref) => {\r\n    const { disabled } = React.useContext(SelectContext)\r\n    return (\r\n      <button\r\n        ref={ref}\r\n        type=\"button\"\r\n        disabled={disabled}\r\n        className={cn(\r\n          \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\r\n          className\r\n        )}\r\n        {...props}\r\n      >\r\n        {children}\r\n        <ChevronDown className=\"h-4 w-4 opacity-50\" />\r\n      </button>\r\n    )\r\n  }\r\n)\r\nSelectTrigger.displayName = \"SelectTrigger\"\r\n\r\nexport interface SelectValueProps {\r\n  placeholder?: string\r\n}\r\n\r\nexport function SelectValue({ placeholder }: SelectValueProps) {\r\n  const { value } = React.useContext(SelectContext)\r\n  const displayValue = value || placeholder || \"Select...\"\r\n  return <span className={cn(!value && \"text-muted-foreground\")}>{displayValue}</span>\r\n}\r\n\r\nexport interface SelectContentProps {\r\n  children: React.ReactNode\r\n  className?: string\r\n}\r\n\r\nexport function SelectContent({ children, className }: SelectContentProps) {\r\n  const [isOpen, setIsOpen] = React.useState(false)\r\n  const { value, onValueChange, disabled } = React.useContext(SelectContext)\r\n  const contentRef = React.useRef<HTMLDivElement>(null)\r\n\r\n  React.useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (contentRef.current && !contentRef.current.contains(event.target as Node)) {\r\n        setIsOpen(false)\r\n      }\r\n    }\r\n\r\n    if (isOpen) {\r\n      document.addEventListener(\"mousedown\", handleClickOutside)\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleClickOutside)\r\n    }\r\n  }, [isOpen])\r\n\r\n  if (!isOpen) {\r\n    return (\r\n      <SelectTrigger onClick={() => !disabled && setIsOpen(true)}>\r\n        <SelectValue placeholder=\"Select...\" />\r\n      </SelectTrigger>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <SelectTrigger onClick={() => setIsOpen(false)}>\r\n        <SelectValue placeholder=\"Select...\" />\r\n      </SelectTrigger>\r\n      <div\r\n        ref={contentRef}\r\n        className={cn(\r\n          \"absolute z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md\",\r\n          className\r\n        )}\r\n      >\r\n        {React.Children.map(children, (child) => {\r\n          if (React.isValidElement(child)) {\r\n            return React.cloneElement(child as React.ReactElement<any>, {\r\n              onSelect: (val: string) => {\r\n                onValueChange?.(val)\r\n                setIsOpen(false)\r\n              },\r\n              selectedValue: value,\r\n            })\r\n          }\r\n          return child\r\n        })}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport interface SelectItemProps extends React.HTMLAttributes<HTMLDivElement> {\r\n  value: string\r\n  children: React.ReactNode\r\n  onSelect?: (value: string) => void\r\n  selectedValue?: string\r\n}\r\n\r\nexport const SelectItem = React.forwardRef<HTMLDivElement, SelectItemProps>(\r\n  ({ className, value, children, onSelect, selectedValue, ...props }, ref) => {\r\n    const isSelected = selectedValue === value\r\n    return (\r\n      <div\r\n        ref={ref}\r\n        role=\"option\"\r\n        aria-selected={isSelected}\r\n        className={cn(\r\n          \"relative flex w-full cursor-pointer select-none items-center rounded-sm py-1.5 px-2 text-sm outline-none hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n          isSelected && \"bg-accent text-accent-foreground\",\r\n          className\r\n        )}\r\n        onClick={() => onSelect?.(value)}\r\n        {...props}\r\n      >\r\n        {children}\r\n      </div>\r\n    )\r\n  }\r\n)\r\nSelectItem.displayName = \"SelectItem\"\r\n"],"names":[],"mappings":";;;;;;;;;;;;;AAEA;AACA;AACA;AAJA;;;;;AAaA,MAAM,8BAAgB,sNAAmB,CAItC,CAAC;AAEG,SAAS,OAAO,EAAE,KAAK,EAAE,aAAa,EAAE,QAAQ,EAAE,QAAQ,EAAe;IAC9E,qBACE,8OAAC,cAAc,QAAQ;QAAC,OAAO;YAAE;YAAO;YAAe;QAAS;kBAC9D,cAAA,8OAAC;YAAI,WAAU;sBAAY;;;;;;;;;;;AAGjC;AAMO,MAAM,8BAAgB,mNAAgB,CAC3C,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;IAClC,MAAM,EAAE,QAAQ,EAAE,GAAG,mNAAgB,CAAC;IACtC,qBACE,8OAAC;QACC,KAAK;QACL,MAAK;QACL,UAAU;QACV,WAAW,IAAA,kHAAE,EACX,6RACA;QAED,GAAG,KAAK;;YAER;0BACD,8OAAC,mOAAW;gBAAC,WAAU;;;;;;;;;;;;AAG7B;AAEF,cAAc,WAAW,GAAG;AAMrB,SAAS,YAAY,EAAE,WAAW,EAAoB;IAC3D,MAAM,EAAE,KAAK,EAAE,GAAG,mNAAgB,CAAC;IACnC,MAAM,eAAe,SAAS,eAAe;IAC7C,qBAAO,8OAAC;QAAK,WAAW,IAAA,kHAAE,EAAC,CAAC,SAAS;kBAA2B;;;;;;AAClE;AAOO,SAAS,cAAc,EAAE,QAAQ,EAAE,SAAS,EAAsB;IACvE,MAAM,CAAC,QAAQ,UAAU,GAAG,iNAAc,CAAC;IAC3C,MAAM,EAAE,KAAK,EAAE,aAAa,EAAE,QAAQ,EAAE,GAAG,mNAAgB,CAAC;IAC5D,MAAM,aAAa,+MAAY,CAAiB;IAEhD,kNAAe,CAAC;QACd,MAAM,qBAAqB,CAAC;YAC1B,IAAI,WAAW,OAAO,IAAI,CAAC,WAAW,OAAO,CAAC,QAAQ,CAAC,MAAM,MAAM,GAAW;gBAC5E,UAAU;YACZ;QACF;QAEA,IAAI,QAAQ;YACV,SAAS,gBAAgB,CAAC,aAAa;QACzC;QAEA,OAAO;YACL,SAAS,mBAAmB,CAAC,aAAa;QAC5C;IACF,GAAG;QAAC;KAAO;IAEX,IAAI,CAAC,QAAQ;QACX,qBACE,8OAAC;YAAc,SAAS,IAAM,CAAC,YAAY,UAAU;sBACnD,cAAA,8OAAC;gBAAY,aAAY;;;;;;;;;;;IAG/B;IAEA,qBACE;;0BACE,8OAAC;gBAAc,SAAS,IAAM,UAAU;0BACtC,cAAA,8OAAC;oBAAY,aAAY;;;;;;;;;;;0BAE3B,8OAAC;gBACC,KAAK;gBACL,WAAW,IAAA,kHAAE,EACX,iHACA;0BAGD,iNAAc,CAAC,GAAG,CAAC,UAAU,CAAC;oBAC7B,kBAAI,uNAAoB,CAAC,QAAQ;wBAC/B,qBAAO,qNAAkB,CAAC,OAAkC;4BAC1D,UAAU,CAAC;gCACT,gBAAgB;gCAChB,UAAU;4BACZ;4BACA,eAAe;wBACjB;oBACF;oBACA,OAAO;gBACT;;;;;;;;AAIR;AASO,MAAM,2BAAa,mNAAgB,CACxC,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,aAAa,EAAE,GAAG,OAAO,EAAE;IAClE,MAAM,aAAa,kBAAkB;IACrC,qBACE,8OAAC;QACC,KAAK;QACL,MAAK;QACL,iBAAe;QACf,WAAW,IAAA,kHAAE,EACX,qQACA,cAAc,oCACd;QAEF,SAAS,IAAM,WAAW;QACzB,GAAG,KAAK;kBAER;;;;;;AAGP;AAEF,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 350, "column": 0}, "map": {"version":3,"sources":["file:///C:/work/AARD/ui/lib/api/client.ts"],"sourcesContent":["// Base API configuration\r\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000'\r\n\r\nexport class ApiError extends Error {\r\n  constructor(\r\n    message: string,\r\n    public status: number,\r\n    public data?: any\r\n  ) {\r\n    super(message)\r\n    this.name = 'ApiError'\r\n  }\r\n}\r\n\r\nasync function fetchApi<T>(\r\n  endpoint: string,\r\n  options?: RequestInit\r\n): Promise<T> {\r\n  const url = `${API_BASE_URL}${endpoint}`\r\n  \r\n  console.log('fetchApi: Starting request', { url, endpoint, method: options?.method || 'GET' })\r\n  \r\n  try {\r\n    const response = await fetch(url, {\r\n      ...options,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        ...options?.headers,\r\n      },\r\n    })\r\n\r\n    console.log('fetchApi: Response received', { \r\n      url, \r\n      status: response.status, \r\n      statusText: response.statusText,\r\n      ok: response.ok \r\n    })\r\n\r\n    if (!response.ok) {\r\n      const errorData = await response.json().catch(() => ({}))\r\n      console.error('fetchApi: Error response', { url, status: response.status, errorData })\r\n      throw new ApiError(\r\n        errorData.message || 'API request failed',\r\n        response.status,\r\n        errorData\r\n      )\r\n    }\r\n\r\n    const data = await response.json()\r\n    console.log('fetchApi: Data parsed', { url, dataKeys: Object.keys(data) })\r\n    return data\r\n  } catch (error) {\r\n    console.error('fetchApi: Request failed', { url, error, errorMessage: error instanceof Error ? error.message : String(error) })\r\n    throw error\r\n  }\r\n}\r\n\r\n// Types\r\nexport interface Task {\r\n  task_id: string\r\n  description: string\r\n  status: string\r\n  created_at: string\r\n  updated_at: string\r\n  current_stage: string\r\n  progress_percent: number\r\n  plan_version?: number\r\n  current_step?: {\r\n    step_id: string\r\n    step_number: number\r\n    description: string\r\n    status: string\r\n    started_at?: string\r\n  }\r\n  total_steps: number\r\n  completed_steps: number\r\n  latest_logs: Array<{\r\n    timestamp: string\r\n    stage: string\r\n    model: string\r\n    content_preview: string\r\n  }>\r\n  agents_in_use: string[]\r\n  tools_in_use: string[]\r\n}\r\n\r\nexport interface TasksResponse {\r\n  tasks: Task[]\r\n  total: number\r\n}\r\n\r\nexport interface Plan {\r\n  id: string\r\n  task_id: string\r\n  version: number\r\n  goal: string\r\n  strategy?: string | {\r\n    approach?: string\r\n    assumptions?: string\r\n    constraints?: string\r\n    success_criteria?: string\r\n  }\r\n  steps: PlanStep[]\r\n  alternatives?: any[]\r\n  status: string\r\n  current_step?: number\r\n  estimated_duration?: number\r\n  actual_duration?: number\r\n  created_at: string\r\n  approved_at?: string\r\n}\r\n\r\nexport interface PlanStep {\r\n  step_id?: string\r\n  description: string\r\n  status?: string\r\n  assigned_agent?: string\r\n}\r\n\r\nexport interface Agent {\r\n  id: string\r\n  name: string\r\n  description?: string\r\n  status: string\r\n  capabilities?: string[]\r\n  version: number\r\n  created_at: string\r\n  updated_at: string\r\n  total_tasks_executed: number\r\n  successful_tasks: number\r\n  failed_tasks: number\r\n}\r\n\r\nexport interface Message {\r\n  id: string\r\n  task_id?: string\r\n  role: 'user' | 'assistant' | 'system'\r\n  content: string\r\n  created_at: string\r\n  session_id?: string\r\n  response?: string\r\n}\r\n\r\nexport interface Prompt {\r\n  id: string\r\n  name: string\r\n  prompt_text: string\r\n  prompt_type: string\r\n  level: number\r\n  version: number\r\n  status: string\r\n  success_rate?: number\r\n  usage_count: number\r\n  created_at: string\r\n  parent_prompt_id?: string\r\n  avg_execution_time?: number\r\n  user_rating?: number\r\n}\r\n\r\nexport interface PromptMetrics {\r\n  prompt_id: string\r\n  prompt_name: string\r\n  version: number\r\n  usage_count: number\r\n  success_rate?: number\r\n  avg_execution_time?: number\r\n  user_rating?: number\r\n  usage_history: any[]\r\n  total_history_entries: number\r\n}\r\n\r\nexport interface AgentMemory {\r\n  id: string\r\n  agent_id: string\r\n  memory_type: string\r\n  content: any\r\n  summary?: string\r\n  importance: number\r\n  access_count: number\r\n  last_accessed_at?: string\r\n  tags?: string[]\r\n  source?: string\r\n  created_at: string\r\n  expires_at?: string\r\n}\r\n\r\nexport interface AgentContext {\r\n  id: string\r\n  agent_id: string\r\n  session_id?: string\r\n  context_key: string\r\n  content: any\r\n  ttl_seconds?: number\r\n  created_at: string\r\n  expires_at?: string\r\n}\r\n\r\n// API Client\r\nexport const api = {\r\n  // Tasks (using current-work endpoint)\r\n  tasks: {\r\n    list: (includeAll: boolean = true) => \r\n      fetchApi<TasksResponse>(`/api/current-work/tasks?include_all=${includeAll}`).then(res => res.tasks),\r\n    get: (id: string, includeAll: boolean = true) => \r\n      fetchApi<Task>(`/api/current-work/task/${id}?include_all=${includeAll}`),\r\n  },\r\n\r\n  // Plans\r\n  plans: {\r\n    list: (taskId?: string) => {\r\n      // Ensure taskId is a string, not an object\r\n      if (taskId !== undefined && taskId !== null) {\r\n        if (typeof taskId !== 'string') {\r\n          console.error('plans.list received non-string taskId:', taskId, typeof taskId)\r\n          // If it's an object, try to extract id\r\n          if (typeof taskId === 'object') {\r\n            const id = (taskId as any)?.id || (taskId as any)?.task_id\r\n            if (id && typeof id === 'string') {\r\n              return fetchApi<Plan[]>(`/api/plans?task_id=${id}`)\r\n            }\r\n          }\r\n          // Return all plans if invalid taskId\r\n          return fetchApi<Plan[]>('/api/plans')\r\n        }\r\n        // Valid string taskId\r\n        return fetchApi<Plan[]>(`/api/plans?task_id=${taskId}`)\r\n      }\r\n      // No taskId provided\r\n      return fetchApi<Plan[]>('/api/plans')\r\n    },\r\n    get: (id: string) => fetchApi<Plan>(`/api/plans/${id}`),\r\n    create: (taskId: string) =>\r\n      fetchApi<Plan>('/api/plans', {\r\n        method: 'POST',\r\n        body: JSON.stringify({ task_id: taskId }),\r\n      }),\r\n  },\r\n\r\n  // Agents\r\n  agents: {\r\n    list: () => fetchApi<Agent[]>('/api/agents'),\r\n    get: (id: string) => fetchApi<Agent>(`/api/agents/${id}`),\r\n    create: (data: {\r\n      name: string\r\n      description?: string\r\n      system_prompt?: string\r\n      capabilities?: string[]\r\n      model_preference?: string\r\n      temperature?: string\r\n      max_concurrent_tasks?: number\r\n      tags?: string[]\r\n    }) =>\r\n      fetchApi<Agent>('/api/agents', {\r\n        method: 'POST',\r\n        body: JSON.stringify(data),\r\n      }),\r\n    update: (id: string, data: {\r\n      description?: string\r\n      system_prompt?: string\r\n      capabilities?: string[]\r\n      model_preference?: string\r\n      temperature?: string\r\n      max_concurrent_tasks?: number\r\n      tags?: string[]\r\n    }) =>\r\n      fetchApi<Agent>(`/api/agents/${id}`, {\r\n        method: 'PUT',\r\n        body: JSON.stringify(data),\r\n      }),\r\n    activate: (id: string) =>\r\n      fetchApi<Agent>(`/api/agents/${id}/activate`, {\r\n        method: 'POST',\r\n      }),\r\n    pause: (id: string) =>\r\n      fetchApi<Agent>(`/api/agents/${id}/pause`, {\r\n        method: 'POST',\r\n      }),\r\n    deprecate: (id: string) =>\r\n      fetchApi<Agent>(`/api/agents/${id}/deprecate`, {\r\n        method: 'POST',\r\n      }),\r\n  },\r\n\r\n  // Messages/Chat\r\n  chat: {\r\n    sendMessage: (taskId: string, content: string, options?: {\r\n      sessionId?: string\r\n      model?: string\r\n      serverId?: string\r\n      temperature?: number\r\n      taskType?: string\r\n      systemPrompt?: string\r\n    }) => {\r\n      // taskId can be 'general' for general chat or actual task ID\r\n      const body: any = {\r\n        message: content,\r\n        task_type: options?.taskType || 'general_chat',\r\n      }\r\n      if (options?.sessionId) {\r\n        body.session_id = options.sessionId\r\n      }\r\n      if (options?.model) {\r\n        body.model = options.model\r\n      }\r\n      if (options?.serverId) {\r\n        body.server_id = options.serverId\r\n      }\r\n      if (options?.temperature !== undefined) {\r\n        body.temperature = options.temperature\r\n      }\r\n      if (options?.systemPrompt) {\r\n        body.system_prompt = options.systemPrompt\r\n      }\r\n      return fetchApi<{\r\n        response: string\r\n        model: string\r\n        task_type: string\r\n        duration_ms?: number\r\n        session_id?: string\r\n        trace_id?: string\r\n        reasoning?: string\r\n        workflow_id?: string\r\n      }>('/api/chat', {\r\n        method: 'POST',\r\n        body: JSON.stringify(body),\r\n      })\r\n    },\r\n    getHistory: (taskId: string) => {\r\n      // For now, return empty array as chat history is session-based\r\n      // TODO: Implement proper session management\r\n      return Promise.resolve([] as Message[])\r\n    },\r\n    getSession: (sessionId: string) =>\r\n      fetchApi<{\r\n        session_id: string\r\n        created_at: string\r\n        title: string | null\r\n        messages: Array<{\r\n          id: string\r\n          role: string\r\n          content: string\r\n          model: string | null\r\n          timestamp: string\r\n          metadata: any\r\n        }>\r\n      }>(`/api/chat/session/${sessionId}`),\r\n    deleteSession: (sessionId: string) =>\r\n      fetchApi<{ status: string; message: string }>(`/api/chat/session/${sessionId}`, {\r\n        method: 'DELETE',\r\n      }),\r\n    createSession: (title?: string, systemPrompt?: string) =>\r\n      fetchApi<{\r\n        session_id: string\r\n        created_at: string\r\n        title: string | null\r\n        system_prompt: string | null\r\n      }>('/api/chat/session', {\r\n        method: 'POST',\r\n        body: JSON.stringify({ title, system_prompt: systemPrompt }),\r\n      }),\r\n  },\r\n\r\n  // Prompts\r\n  prompts: {\r\n    list: (params?: {\r\n      prompt_type?: string\r\n      status?: string\r\n      level?: number\r\n      name?: string\r\n      limit?: number\r\n      offset?: number\r\n    }) => {\r\n      const queryParams = new URLSearchParams()\r\n      if (params?.prompt_type) queryParams.append('prompt_type', params.prompt_type)\r\n      if (params?.status) queryParams.append('status', params.status)\r\n      if (params?.level !== undefined) queryParams.append('level', String(params.level))\r\n      if (params?.name) queryParams.append('name', params.name)\r\n      if (params?.limit) queryParams.append('limit', String(params.limit))\r\n      if (params?.offset) queryParams.append('offset', String(params.offset))\r\n      \r\n      const query = queryParams.toString()\r\n      return fetchApi<Prompt[]>(`/api/prompts${query ? `?${query}` : ''}`)\r\n    },\r\n    get: (id: string) => fetchApi<Prompt>(`/api/prompts/${id}`),\r\n    create: (data: {\r\n      name: string\r\n      prompt_text: string\r\n      prompt_type: string\r\n      level?: number\r\n    }) =>\r\n      fetchApi<Prompt>('/api/prompts', {\r\n        method: 'POST',\r\n        body: JSON.stringify(data),\r\n      }),\r\n    update: (id: string, data: {\r\n      name?: string\r\n      prompt_text?: string\r\n      status?: string\r\n    }) =>\r\n      fetchApi<Prompt>(`/api/prompts/${id}`, {\r\n        method: 'PUT',\r\n        body: JSON.stringify(data),\r\n      }),\r\n    delete: (id: string) =>\r\n      fetchApi<{ status: string; prompt_id: string }>(`/api/prompts/${id}`, {\r\n        method: 'DELETE',\r\n      }),\r\n    createVersion: (id: string, prompt_text: string) =>\r\n      fetchApi<Prompt>(`/api/prompts/${id}/version`, {\r\n        method: 'POST',\r\n        body: JSON.stringify({ prompt_text }),\r\n      }),\r\n    getVersions: (id: string) => fetchApi<Prompt[]>(`/api/prompts/${id}/versions`),\r\n    getMetrics: (id: string) => fetchApi<PromptMetrics>(`/api/prompts/${id}/metrics`),\r\n    deprecate: (id: string) =>\r\n      fetchApi<Prompt>(`/api/prompts/${id}/deprecate`, {\r\n        method: 'POST',\r\n      }),\r\n  },\r\n\r\n  // Agent Memory\r\n  agentMemory: {\r\n    list: (agentId: string, params?: {\r\n      memory_type?: string\r\n      min_importance?: number\r\n      tags?: string\r\n      limit?: number\r\n    }) => {\r\n      const queryParams = new URLSearchParams()\r\n      if (params?.memory_type) queryParams.append('memory_type', params.memory_type)\r\n      if (params?.min_importance !== undefined) queryParams.append('min_importance', String(params.min_importance))\r\n      if (params?.tags) queryParams.append('tags', params.tags)\r\n      if (params?.limit) queryParams.append('limit', String(params.limit))\r\n      \r\n      const query = queryParams.toString()\r\n      return fetchApi<AgentMemory[]>(`/api/agents/${agentId}/memory${query ? `?${query}` : ''}`)\r\n    },\r\n    get: (agentId: string, memoryId: string) =>\r\n      fetchApi<AgentMemory>(`/api/agents/${agentId}/memory/${memoryId}`),\r\n    create: (agentId: string, data: {\r\n      memory_type: string\r\n      content: any\r\n      summary?: string\r\n      importance?: number\r\n      tags?: string[]\r\n      source?: string\r\n    }) =>\r\n      fetchApi<AgentMemory>(`/api/agents/${agentId}/memory`, {\r\n        method: 'POST',\r\n        body: JSON.stringify(data),\r\n      }),\r\n    update: (agentId: string, memoryId: string, data: {\r\n      content?: any\r\n      summary?: string\r\n      importance?: number\r\n      tags?: string[]\r\n    }) =>\r\n      fetchApi<AgentMemory>(`/api/agents/${agentId}/memory/${memoryId}`, {\r\n        method: 'PUT',\r\n        body: JSON.stringify(data),\r\n      }),\r\n    delete: (agentId: string, memoryId: string) =>\r\n      fetchApi<{ status: string; memory_id: string }>(`/api/agents/${agentId}/memory/${memoryId}`, {\r\n        method: 'DELETE',\r\n      }),\r\n    search: (agentId: string, query: {\r\n      query_text?: string\r\n      content_query?: any\r\n      memory_type?: string\r\n      limit?: number\r\n    }) =>\r\n      fetchApi<AgentMemory[]>(`/api/agents/${agentId}/memory/search`, {\r\n        method: 'POST',\r\n        body: JSON.stringify(query),\r\n      }),\r\n    // Short-term memory (context)\r\n    saveContext: (agentId: string, data: {\r\n      context_key: string\r\n      content: any\r\n      session_id?: string\r\n      ttl_seconds?: number\r\n    }) =>\r\n      fetchApi<AgentContext>(`/api/agents/${agentId}/context`, {\r\n        method: 'POST',\r\n        body: JSON.stringify(data),\r\n      }),\r\n    getContext: (agentId: string, contextKey: string) =>\r\n      fetchApi<AgentContext>(`/api/agents/${agentId}/context/${contextKey}`),\r\n    getAllContext: (agentId: string) =>\r\n      fetchApi<AgentContext[]>(`/api/agents/${agentId}/context`),\r\n    clearContext: (agentId: string) =>\r\n      fetchApi<{ status: string; cleared_count: number }>(`/api/agents/${agentId}/context`, {\r\n        method: 'DELETE',\r\n      }),\r\n  },\r\n\r\n  // Servers\r\n  servers: {\r\n    list: (activeOnly?: boolean) => {\r\n      const query = activeOnly ? '?active_only=true' : ''\r\n      return fetchApi<Array<{\r\n        id: string\r\n        name: string\r\n        url: string\r\n        api_version: string\r\n        is_active: boolean\r\n        is_default: boolean\r\n        is_available: boolean\r\n        description?: string\r\n        capabilities?: string[]\r\n        max_concurrent: number\r\n        priority: number\r\n        created_at: string\r\n        updated_at: string\r\n        last_checked_at?: string\r\n        models_count: number\r\n      }>>(`/api/servers${query}`)\r\n    },\r\n    get: (id: string) => fetchApi<any>(`/api/servers/${id}`),\r\n    create: (data: {\r\n      name: string\r\n      url: string\r\n      api_version?: string\r\n      description?: string\r\n      capabilities?: string[]\r\n      max_concurrent?: number\r\n      priority?: number\r\n      is_default?: boolean\r\n    }) =>\r\n      fetchApi<any>('/api/servers', {\r\n        method: 'POST',\r\n        body: JSON.stringify(data),\r\n      }),\r\n    update: (id: string, data: Partial<any>) =>\r\n      fetchApi<any>(`/api/servers/${id}`, {\r\n        method: 'PUT',\r\n        body: JSON.stringify(data),\r\n      }),\r\n    delete: (id: string) =>\r\n      fetchApi<{ status: string }>(`/api/servers/${id}`, {\r\n        method: 'DELETE',\r\n      }),\r\n    discover: (id: string) =>\r\n      fetchApi<{\r\n        message: string\r\n        models_found: number\r\n        models_added: number\r\n      }>(`/api/servers/${id}/discover`, {\r\n        method: 'POST',\r\n      }),\r\n    getModels: (id: string) => fetchApi<Array<{\r\n      id: string\r\n      name: string\r\n      model_name: string\r\n      is_active: boolean\r\n      capabilities?: string[]\r\n      priority: number\r\n      size_bytes?: number\r\n    }>>(`/api/servers/${id}/models`),\r\n  },\r\n\r\n  // Models Management\r\n  models: {\r\n    get: (id: string) => fetchApi<any>(`/api/models/${id}`),\r\n    update: (id: string, data: {\r\n      name?: string\r\n      capabilities?: string[]\r\n      priority?: number\r\n      is_active?: boolean\r\n    }) =>\r\n      fetchApi<any>(`/api/models/${id}`, {\r\n        method: 'PUT',\r\n        body: JSON.stringify(data),\r\n      }),\r\n    checkAvailability: (id: string) =>\r\n      fetchApi<{\r\n        model_id: string\r\n        model_name: string\r\n        is_available: boolean\r\n        server_url: string\r\n        error?: string\r\n      }>(`/api/models/${id}/check-availability`, {\r\n        method: 'POST',\r\n      }),\r\n    checkAll: (serverId: string) =>\r\n      fetchApi<{\r\n        server_id: string\r\n        results: Array<any>\r\n      }>(`/api/models/server/${serverId}/check-all`),\r\n  },\r\n\r\n  // Benchmarks\r\n  benchmarks: {\r\n    getTasks: (params?: {\r\n      task_type?: string\r\n      category?: string\r\n      difficulty?: string\r\n      name?: string\r\n    }) => {\r\n      const query = new URLSearchParams()\r\n      if (params?.task_type) query.append('task_type', params.task_type)\r\n      if (params?.category) query.append('category', params.category)\r\n      if (params?.difficulty) query.append('difficulty', params.difficulty)\r\n      if (params?.name) query.append('name', params.name)\r\n      return fetchApi<Array<{\r\n        id: string\r\n        name: string\r\n        task_type: string\r\n        task_description: string\r\n        category?: string\r\n        difficulty?: string\r\n        expected_output?: any\r\n        validation_criteria?: any\r\n      }>>(`/api/benchmarks/tasks/?${query}`)\r\n    },\r\n    getTask: (taskId: string) =>\r\n      fetchApi<any>(`/api/benchmarks/tasks/${taskId}`),\r\n    run: (data: {\r\n      task_id?: string\r\n      task_type?: string\r\n      model_id?: string\r\n      model_name?: string\r\n      server_id?: string\r\n      server_url?: string\r\n      timeout?: number\r\n      limit?: number\r\n      evaluate?: boolean\r\n    }) =>\r\n      fetchApi<Array<{\r\n        id: string\r\n        benchmark_task_id: string\r\n        model_id?: string\r\n        server_id?: string\r\n        execution_time?: number\r\n        output?: any\r\n        score?: number\r\n        metrics?: any\r\n        passed?: boolean\r\n        error_message?: string\r\n        created_at?: string\r\n      }>>('/api/benchmarks/run/', {\r\n        method: 'POST',\r\n        body: JSON.stringify(data),\r\n      }),\r\n    getResults: (params?: {\r\n      task_id?: string\r\n      model_id?: string\r\n      limit?: number\r\n    }) => {\r\n      const query = new URLSearchParams()\r\n      if (params?.task_id) query.append('task_id', params.task_id)\r\n      if (params?.model_id) query.append('model_id', params.model_id)\r\n      if (params?.limit) query.append('limit', params.limit.toString())\r\n      return fetchApi<Array<any>>(`/api/benchmarks/results/?${query}`)\r\n    },\r\n    getResult: (resultId: string) =>\r\n      fetchApi<{\r\n        id: string\r\n        benchmark_task_id: string\r\n        model_id?: string\r\n        server_id?: string\r\n        execution_time?: number\r\n        output?: any\r\n        score?: number\r\n        metrics?: any\r\n        passed: boolean\r\n        error_message?: string\r\n        created_at?: string\r\n        task?: {\r\n          id: string\r\n          name: string\r\n          task_type: string\r\n          task_description?: string\r\n        }\r\n      }>(`/api/benchmarks/results/${resultId}`),\r\n    evaluate: (resultId: string) =>\r\n      fetchApi<any>(`/api/benchmarks/evaluate/${resultId}`, {\r\n        method: 'POST',\r\n      }),\r\n    comparison: (data?: {\r\n      task_ids?: string[]\r\n      model_ids?: string[]\r\n      server_ids?: string[]\r\n    }) => {\r\n      if (data) {\r\n        return fetchApi<any>('/api/benchmarks/comparison/', {\r\n          method: 'POST',\r\n          body: JSON.stringify(data),\r\n        })\r\n      }\r\n      return fetchApi<any>('/api/benchmarks/comparison/')\r\n    },\r\n    getStats: () =>\r\n      fetchApi<any>('/api/benchmarks/stats/'),\r\n  },\r\n\r\n  // Agent Gym\r\n  agentGym: {\r\n    getTests: (params?: { agent_id?: string; test_type?: string }) => {\r\n      const query = new URLSearchParams()\r\n      if (params?.agent_id) query.append('agent_id', params.agent_id)\r\n      if (params?.test_type) query.append('test_type', params.test_type)\r\n      return fetchApi<Array<{\r\n        id: string\r\n        name: string\r\n        description?: string\r\n        test_type: string\r\n        agent_id: string\r\n        input_data?: any\r\n        expected_output?: any\r\n        validation_rules?: any\r\n        timeout_seconds: number\r\n        max_retries: number\r\n        required_tools?: string[]\r\n        created_by?: string\r\n        created_at: string\r\n        tags?: string[]\r\n      }>>(`/api/agent-gym/tests?${query}`)\r\n    },\r\n    getTest: (testId: string) =>\r\n      fetchApi<any>(`/api/agent-gym/tests/${testId}`),\r\n    createTest: (data: {\r\n      name: string\r\n      agent_id: string\r\n      test_type: string\r\n      input_data: any\r\n      expected_output?: any\r\n      validation_rules?: any\r\n      timeout_seconds?: number\r\n      max_retries?: number\r\n      required_tools?: string[]\r\n      description?: string\r\n      tags?: string[]\r\n    }) =>\r\n      fetchApi<any>('/api/agent-gym/tests', {\r\n        method: 'POST',\r\n        body: JSON.stringify(data),\r\n      }),\r\n    updateTest: (testId: string, data: Partial<any>) =>\r\n      fetchApi<any>(`/api/agent-gym/tests/${testId}`, {\r\n        method: 'PUT',\r\n        body: JSON.stringify(data),\r\n      }),\r\n    runTest: (testId: string, data?: { run_by?: string; notes?: string }) =>\r\n      fetchApi<{\r\n        id: string\r\n        test_id: string\r\n        status: string\r\n        started_at: string\r\n        completed_at?: string\r\n        duration_ms?: number\r\n        output_data?: any\r\n        validation_passed?: string\r\n        error_message?: string\r\n      }>(`/api/agent-gym/tests/${testId}/run`, {\r\n        method: 'POST',\r\n        body: JSON.stringify(data || {}),\r\n      }),\r\n    getTestRuns: (testId: string) =>\r\n      fetchApi<Array<any>>(`/api/agent-gym/tests/${testId}/runs`),\r\n    getTestRun: (runId: string) =>\r\n      fetchApi<any>(`/api/agent-gym/test-runs/${runId}`),\r\n  },\r\n\r\n  // Settings\r\n  settings: {\r\n    getAll: () => fetchApi<Array<{\r\n      key: string\r\n      value: any\r\n      category: string\r\n      description?: string\r\n      value_type: string\r\n    }>>('/api/settings/'),\r\n    get: (key: string) => fetchApi<any>(`/api/settings/${key}`),\r\n    update: (key: string, data: {\r\n      value: any\r\n      category?: string\r\n      value_type?: string\r\n    }) =>\r\n      fetchApi<any>('/api/settings/', {\r\n        method: 'POST',\r\n        body: JSON.stringify({ key, ...data }),\r\n      }),\r\n    // Feature Flags\r\n    getFeatureFlags: () => fetchApi<Record<string, boolean>>('/api/settings/features/all'),\r\n    getFeatureFlag: (feature: string) => fetchApi<boolean>(`/api/settings/features/${feature}`),\r\n    setFeatureFlag: (data: {\r\n      feature: string\r\n      enabled: boolean\r\n      description?: string\r\n    }) =>\r\n      fetchApi<any>('/api/settings/features/', {\r\n        method: 'POST',\r\n        body: JSON.stringify(data),\r\n      }),\r\n    // Logging Levels\r\n    getLogLevels: () => fetchApi<Record<string, string>>('/api/settings/logging/all'),\r\n    getLogLevel: (module: string) => fetchApi<string>(`/api/settings/logging/${module}`),\r\n    setLogLevel: (data: {\r\n      module?: string\r\n      level: string\r\n    }) =>\r\n      fetchApi<any>('/api/settings/logging/', {\r\n        method: 'POST',\r\n        body: JSON.stringify(data),\r\n      }),\r\n    // Modules\r\n    getAllModules: () => fetchApi<string[]>('/api/settings/modules/all'),\r\n  },\r\n\r\n  // Traces\r\n  traces: {\r\n    list: (params?: {\r\n      limit?: number\r\n      offset?: number\r\n      task_id?: string\r\n      agent_id?: string\r\n      page?: number\r\n      page_size?: number\r\n    }) => {\r\n      const query = new URLSearchParams()\r\n      if (params?.limit) query.append('limit', params.limit.toString())\r\n      if (params?.offset) query.append('offset', params.offset.toString())\r\n      if (params?.task_id) query.append('task_id', params.task_id)\r\n      if (params?.agent_id) query.append('agent_id', params.agent_id)\r\n      if (params?.page) query.append('page', params.page.toString())\r\n      if (params?.page_size) query.append('page_size', params.page_size.toString())\r\n      return fetchApi<{\r\n        traces: Array<{\r\n          id: string\r\n          trace_id: string\r\n          task_id?: string\r\n          plan_id?: string\r\n          span_id?: string\r\n          parent_span_id?: string\r\n          operation_name: string\r\n          start_time: string\r\n          end_time?: string\r\n          duration_ms?: number\r\n          status?: string\r\n          attributes?: any\r\n          agent_id?: string\r\n          tool_id?: string\r\n          error_message?: string\r\n          error_type?: string\r\n          created_at: string\r\n        }>\r\n        total: number\r\n        page: number\r\n        page_size: number\r\n      }>(`/api/traces/?${query}`)\r\n    },\r\n    get: (traceId: string) => fetchApi<{\r\n      id: string\r\n      trace_id: string\r\n      task_id?: string\r\n      plan_id?: string\r\n      span_id?: string\r\n      parent_span_id?: string\r\n      operation_name: string\r\n      start_time: string\r\n      end_time?: string\r\n      duration_ms?: number\r\n      status?: string\r\n      attributes?: any\r\n      agent_id?: string\r\n      tool_id?: string\r\n      error_message?: string\r\n      error_type?: string\r\n      created_at: string\r\n    }>(`/api/traces/${traceId}`),\r\n    getSpans: (traceId: string) => fetchApi<Array<{\r\n      id: string\r\n      trace_id: string\r\n      task_id?: string\r\n      plan_id?: string\r\n      span_id?: string\r\n      parent_span_id?: string\r\n      operation_name: string\r\n      start_time: string\r\n      end_time?: string\r\n      duration_ms?: number\r\n      status?: string\r\n      attributes?: any\r\n      agent_id?: string\r\n      tool_id?: string\r\n      error_message?: string\r\n      error_type?: string\r\n      created_at: string\r\n    }>>(`/api/traces/${traceId}/spans`),\r\n  },\r\n\r\n  // Artifacts\r\n  artifacts: {\r\n    list: (params?: {\r\n      artifact_type?: string\r\n      status?: string\r\n      limit?: number\r\n    }) => {\r\n      const query = new URLSearchParams()\r\n      if (params?.artifact_type) query.append('artifact_type', params.artifact_type)\r\n      if (params?.status) query.append('status', params.status)\r\n      if (params?.limit) query.append('limit', params.limit.toString())\r\n      return fetchApi<Array<{\r\n        id: string\r\n        type: string\r\n        name: string\r\n        description?: string\r\n        version: number\r\n        status: string\r\n        security_rating?: number\r\n        created_at: string\r\n        created_by?: string\r\n      }>>(`/api/artifacts/?${query}`)\r\n    },\r\n    get: (artifactId: string) => fetchApi<{\r\n      id: string\r\n      type: string\r\n      name: string\r\n      description?: string\r\n      version: number\r\n      status: string\r\n      security_rating?: number\r\n      created_at: string\r\n      created_by?: string\r\n      code?: string\r\n      prompt?: string\r\n      test_results?: any\r\n      }>(`/api/artifacts/${artifactId}`),\r\n    delete: (artifactId: string) =>\r\n      fetchApi<{ status: string; artifact_id: string }>(`/api/artifacts/${artifactId}`, {\r\n        method: 'DELETE',\r\n      }),\r\n    create: (data: {\r\n      description: string\r\n      artifact_type: 'agent' | 'tool'\r\n      context?: Record<string, any>\r\n    }) =>\r\n      fetchApi<{\r\n        id: string\r\n        type: string\r\n        name: string\r\n        description?: string\r\n        version: number\r\n        status: string\r\n        security_rating?: number\r\n        created_at: string\r\n        created_by?: string\r\n        code?: string\r\n        prompt?: string\r\n        test_results?: any\r\n      }>('/api/artifacts/', {\r\n        method: 'POST',\r\n        body: JSON.stringify(data),\r\n      }),\r\n  },\r\n\r\n  // Approvals\r\n  approvals: {\r\n    list: (params?: {\r\n      request_type?: string\r\n      limit?: number\r\n    }) => {\r\n      const query = new URLSearchParams()\r\n      if (params?.request_type) query.append('request_type', params.request_type)\r\n      if (params?.limit) query.append('limit', params.limit.toString())\r\n      return fetchApi<Array<{\r\n        id: string\r\n        request_type: string\r\n        status: string\r\n        artifact_id?: string\r\n        prompt_id?: string\r\n        task_id?: string\r\n        recommendation?: string\r\n        risk_assessment?: any\r\n        created_at: string\r\n        decision_timeout?: string\r\n        requested_by?: string\r\n        approved_by?: string\r\n        description?: string\r\n      }>>(`/api/approvals/?${query}`)\r\n    },\r\n    get: (approvalId: string) => fetchApi<any>(`/api/approvals/${approvalId}`),\r\n    approve: (approvalId: string) =>\r\n      fetchApi<any>(`/api/approvals/${approvalId}/approve`, {\r\n        method: 'POST',\r\n      }),\r\n    reject: (approvalId: string) =>\r\n      fetchApi<any>(`/api/approvals/${approvalId}/reject`, {\r\n        method: 'POST',\r\n      }),\r\n  },\r\n  \r\n  // Workflow Events\r\n  workflowEvents: {\r\n    list: (params?: { workflow_id?: string; limit?: number; offset?: number; include_entities?: boolean }) => {\r\n      const query = new URLSearchParams()\r\n      if (params?.workflow_id) query.append('workflow_id', params.workflow_id)\r\n      if (params?.limit) query.append('limit', String(params.limit))\r\n      if (params?.offset) query.append('offset', String(params.offset))\r\n      if (params?.include_entities) query.append('include_entities', 'true')\r\n      \r\n      const url = `/api/workflow-events?${query.toString()}`\r\n      console.log('workflowEvents.list: Requesting', { url, params })\r\n      \r\n      return fetchApi<{\r\n        events: Array<{\r\n          id: string\r\n          workflow_id: string\r\n          event_type: string\r\n          event_source: string\r\n          stage: string\r\n          status: string\r\n          message: string\r\n          event_data?: any\r\n          metadata?: any\r\n          timestamp: string\r\n          duration_ms?: number\r\n          parent_event_id?: string\r\n          task_id?: string\r\n          plan_id?: string\r\n          tool_id?: string\r\n          approval_request_id?: string\r\n        }>\r\n        entities?: Array<{\r\n          id: string\r\n          type: 'task' | 'plan' | 'agent' | 'tool' | 'approval'\r\n          name: string\r\n          status?: string\r\n        }>\r\n        total: number\r\n        limit: number\r\n        offset: number\r\n      }>(url).then(result => {\r\n        console.log('workflowEvents.list: Response received', {\r\n          eventsCount: result.events?.length || 0,\r\n          entitiesCount: result.entities?.length || 0,\r\n          total: result.total,\r\n        })\r\n        return result\r\n      }).catch(error => {\r\n        console.error('workflowEvents.list: Request failed', error)\r\n        throw error\r\n      })\r\n    },\r\n    get: (eventId: string) =>\r\n      fetchApi<any>(`/api/workflow-events/${eventId}`),\r\n    control: (workflowId: string, action: 'pause' | 'resume' | 'cancel' | 'restart_from', eventId?: string) =>\r\n      fetchApi<{ workflow_id: string; action: string; status: string }>(\r\n        `/api/workflow-events/${workflowId}/control`,\r\n        {\r\n          method: 'POST',\r\n          body: JSON.stringify({ action, event_id: eventId }),\r\n        }\r\n      ),\r\n  },\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 802, "column": 0}, "map": {"version":3,"sources":["file:///C:/work/AARD/ui/lib/hooks/use-api.ts"],"sourcesContent":["'use client'\r\n\r\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\r\nimport { api, type Task, type Plan, type Agent, type Message, type Prompt, type AgentMemory, type AgentContext } from '../api/client'\r\nimport { toast } from 'sonner'\r\n\r\n// Tasks hooks\r\nexport function useTasks(includeAll: boolean = true) {\r\n  return useQuery({\r\n    queryKey: ['tasks', includeAll],\r\n    queryFn: () => api.tasks.list(includeAll),\r\n  })\r\n}\r\n\r\nexport function useTask(id: string, includeAll: boolean = true) {\r\n  return useQuery({\r\n    queryKey: ['task', id, includeAll],\r\n    queryFn: () => api.tasks.get(id, includeAll),\r\n    enabled: !!id,\r\n  })\r\n}\r\n\r\nexport function useCreateTask() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: api.tasks.create,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['tasks'] })\r\n      toast.success('Task created successfully')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to create task: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\nexport function useUpdateTask() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: ({ id, data }: { id: string; data: Partial<Task> }) =>\r\n      api.tasks.update(id, data),\r\n    onSuccess: (_, { id }) => {\r\n      queryClient.invalidateQueries({ queryKey: ['tasks'] })\r\n      queryClient.invalidateQueries({ queryKey: ['tasks', id] })\r\n      toast.success('Task updated successfully')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to update task: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\nexport function useDeleteTask() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: api.tasks.delete,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['tasks'] })\r\n      toast.success('Task deleted successfully')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to delete task: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\n// Plans hooks\r\nexport function usePlans(taskId?: string) {\r\n  return useQuery({\r\n    queryKey: ['plans', taskId],\r\n    queryFn: () => api.plans.list(taskId),\r\n    enabled: taskId ? typeof taskId === 'string' : true,\r\n  })\r\n}\r\n\r\nexport function usePlan(id: string) {\r\n  return useQuery({\r\n    queryKey: ['plans', id],\r\n    queryFn: () => api.plans.get(id),\r\n    enabled: !!id,\r\n  })\r\n}\r\n\r\nexport function useCreatePlan() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: api.plans.create,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['plans'] })\r\n      toast.success('Plan created successfully')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to create plan: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\n// Agents hooks\r\nexport function useAgents() {\r\n  return useQuery({\r\n    queryKey: ['agents'],\r\n    queryFn: api.agents.list,\r\n  })\r\n}\r\n\r\nexport function useAgent(id: string) {\r\n  return useQuery({\r\n    queryKey: ['agents', id],\r\n    queryFn: () => api.agents.get(id),\r\n    enabled: !!id,\r\n  })\r\n}\r\n\r\nexport function useCreateAgent() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: api.agents.create,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['agents'] })\r\n      toast.success('Agent created successfully')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to create agent: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\nexport function useUpdateAgent() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: ({ id, data }: { id: string; data: Partial<Agent> }) =>\r\n      api.agents.update(id, data),\r\n    onSuccess: (_, { id }) => {\r\n      queryClient.invalidateQueries({ queryKey: ['agents'] })\r\n      queryClient.invalidateQueries({ queryKey: ['agents', id] })\r\n      toast.success('Agent updated successfully')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to update agent: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\nexport function useActivateAgent() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: (id: string) => api.agents.activate(id),\r\n    onSuccess: (_, id) => {\r\n      queryClient.invalidateQueries({ queryKey: ['agents'] })\r\n      queryClient.invalidateQueries({ queryKey: ['agents', id] })\r\n      toast.success('Agent activated')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to activate agent: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\nexport function usePauseAgent() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: (id: string) => api.agents.pause(id),\r\n    onSuccess: (_, id) => {\r\n      queryClient.invalidateQueries({ queryKey: ['agents'] })\r\n      queryClient.invalidateQueries({ queryKey: ['agents', id] })\r\n      toast.success('Agent paused')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to pause agent: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\nexport function useDeprecateAgent() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: (id: string) => api.agents.deprecate(id),\r\n    onSuccess: (_, id) => {\r\n      queryClient.invalidateQueries({ queryKey: ['agents'] })\r\n      queryClient.invalidateQueries({ queryKey: ['agents', id] })\r\n      toast.success('Agent deprecated')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to deprecate agent: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\n// Chat hooks\r\nexport function useChatHistory(taskId: string) {\r\n  return useQuery({\r\n    queryKey: ['chat', taskId],\r\n    queryFn: () => api.chat.getHistory(taskId),\r\n    enabled: !!taskId,\r\n  })\r\n}\r\n\r\nexport function useChatSession(sessionId: string | null) {\r\n  return useQuery({\r\n    queryKey: ['chat', 'session', sessionId],\r\n    queryFn: () => api.chat.getSession(sessionId!),\r\n    enabled: !!sessionId,\r\n  })\r\n}\r\n\r\nexport function useSendMessage() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: ({ \r\n      taskId, \r\n      content, \r\n      sessionId, \r\n      model, \r\n      serverId, \r\n      temperature,\r\n      taskType,\r\n      systemPrompt\r\n    }: { \r\n      taskId: string\r\n      content: string\r\n      sessionId?: string\r\n      model?: string\r\n      serverId?: string\r\n      temperature?: number\r\n      taskType?: string\r\n      systemPrompt?: string\r\n    }) =>\r\n      api.chat.sendMessage(taskId, content, {\r\n        sessionId,\r\n        model,\r\n        serverId,\r\n        temperature,\r\n        taskType,\r\n        systemPrompt,\r\n      }),\r\n    onSuccess: (result, { taskId, sessionId }) => {\r\n      queryClient.invalidateQueries({ queryKey: ['chat', taskId] })\r\n      // Invalidate session query if session_id was returned or used\r\n      const finalSessionId = result.session_id || sessionId\r\n      if (finalSessionId) {\r\n        queryClient.invalidateQueries({ queryKey: ['chat', 'session', finalSessionId] })\r\n      }\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to send message: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\n// Prompts hooks\r\nexport function usePrompts(params?: {\r\n  prompt_type?: string\r\n  status?: string\r\n  level?: number\r\n  name?: string\r\n}) {\r\n  return useQuery({\r\n    queryKey: ['prompts', params],\r\n    queryFn: () => api.prompts.list(params),\r\n  })\r\n}\r\n\r\nexport function usePrompt(id: string) {\r\n  return useQuery({\r\n    queryKey: ['prompts', id],\r\n    queryFn: () => api.prompts.get(id),\r\n    enabled: !!id,\r\n  })\r\n}\r\n\r\nexport function useCreatePrompt() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: api.prompts.create,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['prompts'] })\r\n      toast.success('Prompt created successfully')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to create prompt: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\nexport function useUpdatePrompt() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: ({ id, data }: { id: string; data: Partial<Prompt> }) =>\r\n      api.prompts.update(id, data),\r\n    onSuccess: (_, { id }) => {\r\n      queryClient.invalidateQueries({ queryKey: ['prompts'] })\r\n      queryClient.invalidateQueries({ queryKey: ['prompts', id] })\r\n      toast.success('Prompt updated successfully')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to update prompt: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\nexport function useDeletePrompt() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: api.prompts.delete,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['prompts'] })\r\n      toast.success('Prompt deleted successfully')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to delete prompt: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\nexport function usePromptVersions(id: string) {\r\n  return useQuery({\r\n    queryKey: ['prompts', id, 'versions'],\r\n    queryFn: () => api.prompts.getVersions(id),\r\n    enabled: !!id,\r\n  })\r\n}\r\n\r\nexport function usePromptMetrics(id: string) {\r\n  return useQuery({\r\n    queryKey: ['prompts', id, 'metrics'],\r\n    queryFn: () => api.prompts.getMetrics(id),\r\n    enabled: !!id,\r\n  })\r\n}\r\n\r\n// Agent Memory hooks\r\nexport function useAgentMemories(agentId: string, params?: {\r\n  memory_type?: string\r\n  min_importance?: number\r\n  tags?: string\r\n  limit?: number\r\n}) {\r\n  return useQuery({\r\n    queryKey: ['agents', agentId, 'memories', params],\r\n    queryFn: () => api.agentMemory.list(agentId, params),\r\n    enabled: !!agentId,\r\n  })\r\n}\r\n\r\nexport function useAgentMemory(agentId: string, memoryId: string) {\r\n  return useQuery({\r\n    queryKey: ['agents', agentId, 'memories', memoryId],\r\n    queryFn: () => api.agentMemory.get(agentId, memoryId),\r\n    enabled: !!agentId && !!memoryId,\r\n  })\r\n}\r\n\r\nexport function useCreateAgentMemory() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: ({ agentId, data }: { agentId: string; data: Partial<AgentMemory> }) =>\r\n      api.agentMemory.create(agentId, data as any),\r\n    onSuccess: (_, { agentId }) => {\r\n      queryClient.invalidateQueries({ queryKey: ['agents', agentId, 'memories'] })\r\n      toast.success('Memory created successfully')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to create memory: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\nexport function useDeleteAgentMemory() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: ({ agentId, memoryId }: { agentId: string; memoryId: string }) =>\r\n      api.agentMemory.delete(agentId, memoryId),\r\n    onSuccess: (_, { agentId }) => {\r\n      queryClient.invalidateQueries({ queryKey: ['agents', agentId, 'memories'] })\r\n      toast.success('Memory deleted successfully')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to delete memory: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\nexport function useAgentContext(agentId: string) {\r\n  return useQuery({\r\n    queryKey: ['agents', agentId, 'context'],\r\n    queryFn: () => api.agentMemory.getAllContext(agentId),\r\n    enabled: !!agentId,\r\n  })\r\n}\r\n\r\n// Servers hooks\r\nexport function useServers(activeOnly?: boolean) {\r\n  return useQuery({\r\n    queryKey: ['servers', activeOnly],\r\n    queryFn: () => api.servers.list(activeOnly),\r\n  })\r\n}\r\n\r\nexport function useServer(id: string) {\r\n  return useQuery({\r\n    queryKey: ['servers', id],\r\n    queryFn: () => api.servers.get(id),\r\n    enabled: !!id,\r\n  })\r\n}\r\n\r\nexport function useCreateServer() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: api.servers.create,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['servers'] })\r\n      toast.success('Server created successfully')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to create server: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\nexport function useUpdateServer() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: ({ id, data }: { id: string; data: Partial<any> }) =>\r\n      api.servers.update(id, data),\r\n    onSuccess: (_, { id }) => {\r\n      queryClient.invalidateQueries({ queryKey: ['servers'] })\r\n      queryClient.invalidateQueries({ queryKey: ['servers', id] })\r\n      toast.success('Server updated successfully')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to update server: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\nexport function useDeleteServer() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: api.servers.delete,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['servers'] })\r\n      toast.success('Server deleted successfully')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to delete server: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\nexport function useServerModels(serverId: string) {\r\n  return useQuery({\r\n    queryKey: ['servers', serverId, 'models'],\r\n    queryFn: () => api.servers.getModels(serverId),\r\n    enabled: !!serverId,\r\n  })\r\n}\r\n\r\nexport function useDiscoverServer() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: (serverId: string) => api.servers.discover(serverId),\r\n    onSuccess: (_, serverId) => {\r\n      queryClient.invalidateQueries({ queryKey: ['servers'] })\r\n      queryClient.invalidateQueries({ queryKey: ['servers', serverId, 'models'] })\r\n      toast.success('Server models discovered successfully')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to discover models: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\n// Models Management hooks\r\nexport function useUpdateModel() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: ({ id, data }: { id: string; data: Partial<any> }) =>\r\n      api.models.update(id, data),\r\n    onSuccess: (_, { id }) => {\r\n      queryClient.invalidateQueries({ queryKey: ['models'] })\r\n      queryClient.invalidateQueries({ queryKey: ['models', id] })\r\n      queryClient.invalidateQueries({ queryKey: ['servers'] })\r\n      toast.success('Model updated successfully')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to update model: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\nexport function useCheckModelAvailability() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: (modelId: string) => api.models.checkAvailability(modelId),\r\n    onSuccess: (_, modelId) => {\r\n      queryClient.invalidateQueries({ queryKey: ['models', modelId] })\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to check model availability: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\n// Benchmarks hooks\r\nexport function useBenchmarkTasks(params?: {\r\n  task_type?: string\r\n  category?: string\r\n  difficulty?: string\r\n  name?: string\r\n}) {\r\n  return useQuery({\r\n    queryKey: ['benchmarks', 'tasks', params],\r\n    queryFn: () => api.benchmarks.getTasks(params),\r\n  })\r\n}\r\n\r\nexport function useBenchmarkTask(taskId: string) {\r\n  return useQuery({\r\n    queryKey: ['benchmarks', 'tasks', taskId],\r\n    queryFn: () => api.benchmarks.getTask(taskId),\r\n    enabled: !!taskId,\r\n  })\r\n}\r\n\r\nexport function useRunBenchmark() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: api.benchmarks.run,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['benchmarks', 'results'] })\r\n      toast.success('Benchmark started successfully')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to run benchmark: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\nexport function useBenchmarkResults(params?: {\r\n  task_id?: string\r\n  model_id?: string\r\n  limit?: number\r\n}) {\r\n  return useQuery({\r\n    queryKey: ['benchmarks', 'results', params],\r\n    queryFn: () => api.benchmarks.getResults(params),\r\n  })\r\n}\r\n\r\nexport function useBenchmarkComparison() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: (data?: { model_ids?: string[]; task_type?: string }) => \r\n      api.benchmarks.comparison(data),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['benchmarks', 'comparison'] })\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to compare benchmarks: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\nexport function useBenchmarkStats() {\r\n  return useQuery({\r\n    queryKey: ['benchmarks', 'stats'],\r\n    queryFn: () => api.benchmarks.getStats(),\r\n  })\r\n}\r\n\r\n// Agent Gym hooks\r\nexport function useAgentGymTests(params?: { agent_id?: string; test_type?: string }) {\r\n  return useQuery({\r\n    queryKey: ['agent-gym', 'tests', params],\r\n    queryFn: () => api.agentGym.getTests(params),\r\n  })\r\n}\r\n\r\nexport function useAgentGymTest(testId: string) {\r\n  return useQuery({\r\n    queryKey: ['agent-gym', 'tests', testId],\r\n    queryFn: () => api.agentGym.getTest(testId),\r\n    enabled: !!testId,\r\n  })\r\n}\r\n\r\nexport function useCreateAgentGymTest() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: api.agentGym.createTest,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['agent-gym', 'tests'] })\r\n      toast.success('Test created successfully')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to create test: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\nexport function useRunAgentGymTest() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: ({ testId, data }: { testId: string; data?: { run_by?: string; notes?: string } }) =>\r\n      api.agentGym.runTest(testId, data),\r\n    onSuccess: (_, { testId }) => {\r\n      queryClient.invalidateQueries({ queryKey: ['agent-gym', 'tests', testId, 'runs'] })\r\n      queryClient.invalidateQueries({ queryKey: ['agent-gym', 'tests', testId] })\r\n      toast.success('Test started successfully')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to run test: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\nexport function useAgentGymTestRuns(testId: string) {\r\n  return useQuery({\r\n    queryKey: ['agent-gym', 'tests', testId, 'runs'],\r\n    queryFn: () => api.agentGym.getTestRuns(testId),\r\n    enabled: !!testId,\r\n  })\r\n}\r\n\r\n// Settings hooks\r\nexport function useSettings() {\r\n  return useQuery({\r\n    queryKey: ['settings'],\r\n    queryFn: () => api.settings.getAll(),\r\n  })\r\n}\r\n\r\nexport function useFeatureFlags() {\r\n  return useQuery({\r\n    queryKey: ['settings', 'features'],\r\n    queryFn: () => api.settings.getFeatureFlags(),\r\n  })\r\n}\r\n\r\nexport function useSetFeatureFlag() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: api.settings.setFeatureFlag,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['settings', 'features'] })\r\n      toast.success('Feature flag updated')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to update feature flag: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\nexport function useLogLevels() {\r\n  return useQuery({\r\n    queryKey: ['settings', 'logging'],\r\n    queryFn: () => api.settings.getLogLevels(),\r\n  })\r\n}\r\n\r\nexport function useSetLogLevel() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: api.settings.setLogLevel,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['settings', 'logging'] })\r\n      toast.success('Log level updated')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to update log level: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\nexport function useAllModules() {\r\n  return useQuery({\r\n    queryKey: ['settings', 'modules'],\r\n    queryFn: () => api.settings.getAllModules(),\r\n  })\r\n}\r\n\r\n// Traces hooks\r\nexport function useTraces(params?: {\r\n  limit?: number\r\n  offset?: number\r\n  task_id?: string\r\n  agent_id?: string\r\n  page?: number\r\n  page_size?: number\r\n}) {\r\n  return useQuery({\r\n    queryKey: ['traces', params],\r\n    queryFn: () => api.traces.list({\r\n      ...params,\r\n      page_size: params?.page_size || params?.limit,\r\n    }),\r\n  })\r\n}\r\n\r\nexport function useTrace(traceId: string) {\r\n  return useQuery({\r\n    queryKey: ['trace', traceId],\r\n    queryFn: () => api.traces.get(traceId),\r\n    enabled: !!traceId,\r\n  })\r\n}\r\n\r\nexport function useTraceSpans(traceId: string) {\r\n  return useQuery({\r\n    queryKey: ['trace', traceId, 'spans'],\r\n    queryFn: () => api.traces.getSpans(traceId),\r\n    enabled: !!traceId,\r\n  })\r\n}\r\n\r\n// Artifacts hooks\r\nexport function useArtifacts() {\r\n  return useQuery({\r\n    queryKey: ['artifacts'],\r\n    queryFn: () => api.artifacts.list(),\r\n  })\r\n}\r\n\r\nexport function useArtifact(artifactId: string) {\r\n  return useQuery({\r\n    queryKey: ['artifacts', artifactId],\r\n    queryFn: () => api.artifacts.get(artifactId),\r\n    enabled: !!artifactId,\r\n  })\r\n}\r\n\r\nexport function useCreateArtifact() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: api.artifacts.create,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['artifacts'] })\r\n      toast.success('Artifact created successfully')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to create artifact: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\nexport function useDeleteArtifact() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: (artifactId: string) => api.artifacts.delete(artifactId),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['artifacts'] })\r\n      toast.success('Artifact deleted successfully')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to delete artifact: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\n// Approvals hooks\r\nexport function useApprovals() {\r\n  return useQuery({\r\n    queryKey: ['approvals'],\r\n    queryFn: () => api.approvals.list(),\r\n    // Disable automatic refetch on window focus to reduce unnecessary requests\r\n    // Approvals are not time-sensitive data that needs constant updates\r\n    refetchOnWindowFocus: false,\r\n    refetchOnReconnect: false,\r\n    // Only refetch when component mounts or manually invalidated\r\n    staleTime: 5 * 60 * 1000, // Consider data fresh for 5 minutes\r\n  })\r\n}\r\n\r\nexport function useApproval(approvalId: string) {\r\n  return useQuery({\r\n    queryKey: ['approvals', approvalId],\r\n    queryFn: () => api.approvals.get(approvalId),\r\n    enabled: !!approvalId,\r\n  })\r\n}\r\n\r\nexport function useApproveRequest() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: (approvalId: string) => api.approvals.approve(approvalId),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['approvals'] })\r\n      toast.success('Request approved')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to approve: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\nexport function useRejectRequest() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: (approvalId: string) => api.approvals.reject(approvalId),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['approvals'] })\r\n      toast.success('Request rejected')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to reject: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\nexport function useCreatePromptVersion() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: ({ id, prompt_text }: { id: string; prompt_text: string }) =>\r\n      api.prompts.createVersion(id, prompt_text),\r\n    onSuccess: (_, { id }) => {\r\n      queryClient.invalidateQueries({ queryKey: ['prompts'] })\r\n      queryClient.invalidateQueries({ queryKey: ['prompts', id] })\r\n      queryClient.invalidateQueries({ queryKey: ['prompts', id, 'versions'] })\r\n      toast.success('Prompt version created successfully')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to create prompt version: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\n// Workflow Events hooks\r\nexport function useWorkflowEvents(workflowId: string | null, includeEntities: boolean = false) {\r\n  return useQuery({\r\n    queryKey: ['workflow-events', workflowId, includeEntities],\r\n    queryFn: async () => {\r\n      console.log('useWorkflowEvents: Fetching data', { workflowId, includeEntities })\r\n      console.log('useWorkflowEvents: api object', { hasWorkflowEvents: !!api.workflowEvents, hasList: !!api.workflowEvents?.list })\r\n      \r\n      if (!api.workflowEvents || !api.workflowEvents.list) {\r\n        throw new Error('api.workflowEvents.list is not available')\r\n      }\r\n      \r\n      try {\r\n        console.log('useWorkflowEvents: Calling api.workflowEvents.list...')\r\n        const params = { \r\n          workflow_id: workflowId || undefined, \r\n          limit: 100,\r\n          include_entities: includeEntities,\r\n        }\r\n        console.log('useWorkflowEvents: Params', params)\r\n        \r\n        const result = await api.workflowEvents.list(params)\r\n        \r\n        console.log('useWorkflowEvents: Data received', {\r\n          eventsCount: result.events?.length || 0,\r\n          entitiesCount: result.entities?.length || 0,\r\n          total: result.total,\r\n          hasEvents: !!result.events,\r\n          hasEntities: !!result.entities,\r\n        })\r\n        return result\r\n      } catch (error) {\r\n        console.error('useWorkflowEvents: Error fetching data', error)\r\n        console.error('useWorkflowEvents: Error details', {\r\n          message: error instanceof Error ? error.message : String(error),\r\n          stack: error instanceof Error ? error.stack : undefined,\r\n          name: error instanceof Error ? error.name : undefined,\r\n        })\r\n        throw error\r\n      }\r\n    },\r\n    enabled: !!workflowId,\r\n    refetchInterval: 2000, // Poll every 2 seconds for new events\r\n    retry: 1, // Retry once on failure\r\n  })\r\n}\r\n\r\nexport function useWorkflowEvent(eventId: string) {\r\n  return useQuery({\r\n    queryKey: ['workflow-events', eventId],\r\n    queryFn: () => api.workflowEvents.get(eventId),\r\n    enabled: !!eventId,\r\n  })\r\n}\r\n\r\nexport function useControlWorkflow() {\r\n  const queryClient = useQueryClient()\r\n  return useMutation({\r\n    mutationFn: ({ workflowId, action, eventId }: { workflowId: string; action: 'pause' | 'resume' | 'cancel' | 'restart_from'; eventId?: string }) =>\r\n      api.workflowEvents.control(workflowId, action, eventId),\r\n    onSuccess: (_, { workflowId }) => {\r\n      queryClient.invalidateQueries({ queryKey: ['workflow-events', workflowId] })\r\n      toast.success(`Workflow ${_.action} requested`)\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to control workflow: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2059, "column": 0}, "map": {"version":3,"sources":["file:///C:/work/AARD/ui/components/chat/simple-markdown.tsx"],"sourcesContent":["'use client'\r\n\r\ninterface SimpleMarkdownProps {\r\n  content: string\r\n  className?: string\r\n}\r\n\r\nexport function SimpleMarkdown({ content, className = '' }: SimpleMarkdownProps) {\r\n  // Simple markdown-like formatting without external dependencies\r\n  const formatText = (text: string) => {\r\n    let formatted = text\r\n\r\n    // Code blocks with language\r\n    formatted = formatted.replace(/```(\\w+)?\\n([\\s\\S]*?)```/g, (match, lang, code) => {\r\n      return `<pre class=\"bg-muted rounded p-2 overflow-x-auto my-2\"><code class=\"text-sm\">${escapeHtml(code.trim())}</code></pre>`\r\n    })\r\n\r\n    // Inline code\r\n    formatted = formatted.replace(/`([^`]+)`/g, '<code class=\"bg-muted px-1 py-0.5 rounded text-sm\">$1</code>')\r\n\r\n    // Headers\r\n    formatted = formatted.replace(/^### (.*$)/gim, '<h3 class=\"text-base font-bold mb-1 mt-2 first:mt-0\">$1</h3>')\r\n    formatted = formatted.replace(/^## (.*$)/gim, '<h2 class=\"text-lg font-bold mb-2 mt-3 first:mt-0\">$1</h2>')\r\n    formatted = formatted.replace(/^# (.*$)/gim, '<h1 class=\"text-xl font-bold mb-2 mt-4 first:mt-0\">$1</h1>')\r\n\r\n    // Bold\r\n    formatted = formatted.replace(/\\*\\*(.*?)\\*\\*/g, '<strong class=\"font-bold\">$1</strong>')\r\n    formatted = formatted.replace(/__(.*?)__/g, '<strong class=\"font-bold\">$1</strong>')\r\n\r\n    // Italic\r\n    formatted = formatted.replace(/\\*(.*?)\\*/g, '<em class=\"italic\">$1</em>')\r\n    formatted = formatted.replace(/_(.*?)_/g, '<em class=\"italic\">$1</em>')\r\n\r\n    // Links\r\n    formatted = formatted.replace(/\\[([^\\]]+)\\]\\(([^)]+)\\)/g, '<a href=\"$2\" class=\"text-primary hover:underline\" target=\"_blank\" rel=\"noopener noreferrer\">$1</a>')\r\n\r\n    // Blockquotes\r\n    formatted = formatted.replace(/^> (.*$)/gim, '<blockquote class=\"border-l-4 border-primary pl-4 italic my-2\">$1</blockquote>')\r\n\r\n    // Lists - simple approach: wrap items\r\n    formatted = formatted.replace(/^[\\*\\-] (.*$)/gim, '<li class=\"ml-4\">$1</li>')\r\n    formatted = formatted.replace(/^(\\d+)\\. (.*$)/gim, '<li class=\"ml-4\">$2</li>')\r\n    \r\n    // Wrap consecutive list items\r\n    formatted = formatted.replace(/(<li class=\"ml-4\">.*<\\/li>(\\n|$))+/g, (match) => {\r\n      return `<ul class=\"list-disc list-inside mb-2 space-y-1\">${match}</ul>`\r\n    })\r\n\r\n    // Paragraphs: split by double newlines\r\n    const paragraphs = formatted.split(/\\n\\n+/)\r\n    formatted = paragraphs.map(para => {\r\n      const trimmed = para.trim()\r\n      if (!trimmed) return ''\r\n      // If already has HTML tags, don't wrap\r\n      if (trimmed.startsWith('<')) {\r\n        return trimmed\r\n      }\r\n      // Convert single newlines to <br>\r\n      const withBreaks = trimmed.replace(/\\n/g, '<br>')\r\n      return `<p class=\"mb-2 last:mb-0\">${withBreaks}</p>`\r\n    }).filter(p => p).join('')\r\n\r\n    return formatted\r\n  }\r\n\r\n  const escapeHtml = (text: string) => {\r\n    if (typeof window === 'undefined') {\r\n      // Server-side: simple escape\r\n      return text\r\n        .replace(/&/g, '&amp;')\r\n        .replace(/</g, '&lt;')\r\n        .replace(/>/g, '&gt;')\r\n        .replace(/\"/g, '&quot;')\r\n        .replace(/'/g, '&#039;')\r\n    }\r\n    // Client-side: use DOM\r\n    const div = document.createElement('div')\r\n    div.textContent = text\r\n    return div.innerHTML\r\n  }\r\n\r\n  return (\r\n    <div \r\n      className={`text-sm break-words ${className}`}\r\n      dangerouslySetInnerHTML={{ __html: formatText(content) }}\r\n    />\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;AAOO,SAAS,eAAe,EAAE,OAAO,EAAE,YAAY,EAAE,EAAuB;IAC7E,gEAAgE;IAChE,MAAM,aAAa,CAAC;QAClB,IAAI,YAAY;QAEhB,4BAA4B;QAC5B,YAAY,UAAU,OAAO,CAAC,6BAA6B,CAAC,OAAO,MAAM;YACvE,OAAO,CAAC,6EAA6E,EAAE,WAAW,KAAK,IAAI,IAAI,aAAa,CAAC;QAC/H;QAEA,cAAc;QACd,YAAY,UAAU,OAAO,CAAC,cAAc;QAE5C,UAAU;QACV,YAAY,UAAU,OAAO,CAAC,iBAAiB;QAC/C,YAAY,UAAU,OAAO,CAAC,gBAAgB;QAC9C,YAAY,UAAU,OAAO,CAAC,eAAe;QAE7C,OAAO;QACP,YAAY,UAAU,OAAO,CAAC,kBAAkB;QAChD,YAAY,UAAU,OAAO,CAAC,cAAc;QAE5C,SAAS;QACT,YAAY,UAAU,OAAO,CAAC,cAAc;QAC5C,YAAY,UAAU,OAAO,CAAC,YAAY;QAE1C,QAAQ;QACR,YAAY,UAAU,OAAO,CAAC,4BAA4B;QAE1D,cAAc;QACd,YAAY,UAAU,OAAO,CAAC,eAAe;QAE7C,sCAAsC;QACtC,YAAY,UAAU,OAAO,CAAC,oBAAoB;QAClD,YAAY,UAAU,OAAO,CAAC,qBAAqB;QAEnD,8BAA8B;QAC9B,YAAY,UAAU,OAAO,CAAC,uCAAuC,CAAC;YACpE,OAAO,CAAC,iDAAiD,EAAE,MAAM,KAAK,CAAC;QACzE;QAEA,uCAAuC;QACvC,MAAM,aAAa,UAAU,KAAK,CAAC;QACnC,YAAY,WAAW,GAAG,CAAC,CAAA;YACzB,MAAM,UAAU,KAAK,IAAI;YACzB,IAAI,CAAC,SAAS,OAAO;YACrB,uCAAuC;YACvC,IAAI,QAAQ,UAAU,CAAC,MAAM;gBAC3B,OAAO;YACT;YACA,kCAAkC;YAClC,MAAM,aAAa,QAAQ,OAAO,CAAC,OAAO;YAC1C,OAAO,CAAC,0BAA0B,EAAE,WAAW,IAAI,CAAC;QACtD,GAAG,MAAM,CAAC,CAAA,IAAK,GAAG,IAAI,CAAC;QAEvB,OAAO;IACT;IAEA,MAAM,aAAa,CAAC;QAClB,wCAAmC;YACjC,6BAA6B;YAC7B,OAAO,KACJ,OAAO,CAAC,MAAM,SACd,OAAO,CAAC,MAAM,QACd,OAAO,CAAC,MAAM,QACd,OAAO,CAAC,MAAM,UACd,OAAO,CAAC,MAAM;QACnB;;;QACA,uBAAuB;QACvB,MAAM;IAGR;IAEA,qBACE,8OAAC;QACC,WAAW,CAAC,oBAAoB,EAAE,WAAW;QAC7C,yBAAyB;YAAE,QAAQ,WAAW;QAAS;;;;;;AAG7D"}},
    {"offset": {"line": 2137, "column": 0}, "map": {"version":3,"sources":["file:///C:/work/AARD/ui/components/chat/chat-tabs.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { X, Plus, MessageSquare } from 'lucide-react'\r\nimport { cn } from '@/lib/utils'\r\n\r\nexport interface ChatTab {\r\n  id: string\r\n  title: string\r\n  sessionId: string | null\r\n  settings: {\r\n    serverId?: string\r\n    model?: string\r\n    temperature?: number\r\n    systemPrompt?: string\r\n  }\r\n}\r\n\r\ninterface ChatTabsProps {\r\n  tabs: ChatTab[]\r\n  activeTabId: string\r\n  onTabChange: (tabId: string) => void\r\n  onTabClose: (tabId: string) => void\r\n  onNewTab: () => void\r\n}\r\n\r\nexport function ChatTabs({ tabs, activeTabId, onTabChange, onTabClose, onNewTab }: ChatTabsProps) {\r\n  return (\r\n    <div className=\"flex items-center gap-1 border-b overflow-x-auto\">\r\n      {tabs.map((tab) => (\r\n        <div\r\n          key={tab.id}\r\n          className={cn(\r\n            \"flex items-center gap-2 px-3 py-2 border-b-2 transition-colors cursor-pointer min-w-0\",\r\n            activeTabId === tab.id\r\n              ? \"border-primary bg-primary/5\"\r\n              : \"border-transparent hover:bg-muted/50\"\r\n          )}\r\n          onClick={() => onTabChange(tab.id)}\r\n        >\r\n          <MessageSquare className=\"h-4 w-4 flex-shrink-0\" />\r\n          <span className=\"text-sm font-medium truncate max-w-[150px]\">\r\n            {tab.title}\r\n          </span>\r\n          {tabs.length > 1 && (\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"sm\"\r\n              className=\"h-5 w-5 p-0 hover:bg-destructive hover:text-destructive-foreground\"\r\n              onClick={(e) => {\r\n                e.stopPropagation()\r\n                onTabClose(tab.id)\r\n              }}\r\n            >\r\n              <X className=\"h-3 w-3\" />\r\n            </Button>\r\n          )}\r\n        </div>\r\n      ))}\r\n      <Button\r\n        variant=\"ghost\"\r\n        size=\"sm\"\r\n        className=\"h-8 px-3 flex-shrink-0\"\r\n        onClick={onNewTab}\r\n      >\r\n        <Plus className=\"h-4 w-4 mr-1\" />\r\n        New\r\n      </Button>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAAA;AAAA;AACA;AALA;;;;;AA2BO,SAAS,SAAS,EAAE,IAAI,EAAE,WAAW,EAAE,WAAW,EAAE,UAAU,EAAE,QAAQ,EAAiB;IAC9F,qBACE,8OAAC;QAAI,WAAU;;YACZ,KAAK,GAAG,CAAC,CAAC,oBACT,8OAAC;oBAEC,WAAW,IAAA,kHAAE,EACX,yFACA,gBAAgB,IAAI,EAAE,GAClB,gCACA;oBAEN,SAAS,IAAM,YAAY,IAAI,EAAE;;sCAEjC,8OAAC,yOAAa;4BAAC,WAAU;;;;;;sCACzB,8OAAC;4BAAK,WAAU;sCACb,IAAI,KAAK;;;;;;wBAEX,KAAK,MAAM,GAAG,mBACb,8OAAC,qIAAM;4BACL,SAAQ;4BACR,MAAK;4BACL,WAAU;4BACV,SAAS,CAAC;gCACR,EAAE,eAAe;gCACjB,WAAW,IAAI,EAAE;4BACnB;sCAEA,cAAA,8OAAC,iMAAC;gCAAC,WAAU;;;;;;;;;;;;mBAvBZ,IAAI,EAAE;;;;;0BA4Bf,8OAAC,qIAAM;gBACL,SAAQ;gBACR,MAAK;gBACL,WAAU;gBACV,SAAS;;kCAET,8OAAC,0MAAI;wBAAC,WAAU;;;;;;oBAAiB;;;;;;;;;;;;;AAKzC"}},
    {"offset": {"line": 2232, "column": 0}, "map": {"version":3,"sources":["file:///C:/work/AARD/ui/app/chat/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useRef, useEffect, useMemo } from 'react'\r\nimport { useRouter } from 'next/navigation'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { Send, Loader2, Bot, User, Server, Settings, ChevronDown, ChevronUp, Clock } from 'lucide-react'\r\nimport { formatDistanceToNow } from 'date-fns'\r\nimport { toast } from 'sonner'\r\nimport Link from 'next/link'\r\nimport { useSendMessage, useServers, useServerModels, useChatSession } from '@/lib/hooks/use-api'\r\nimport { api } from '@/lib/api/client'\r\nimport { SimpleMarkdown } from '@/components/chat/simple-markdown'\r\nimport { WorkflowView } from '@/components/chat/workflow-view'\r\nimport { ChatTabs, type ChatTab } from '@/components/chat/chat-tabs'\r\nimport { Trash2, X } from 'lucide-react'\r\n\r\nconst STORAGE_KEY_TABS = 'chat_tabs'\r\nconst STORAGE_KEY_ACTIVE_TAB = 'chat_active_tab_id'\r\n\r\nexport default function ChatPage() {\r\n  const router = useRouter()\r\n  const sendMessage = useSendMessage()\r\n  \r\n  // Initialize with empty state to avoid hydration mismatch\r\n  const [tabs, setTabs] = useState<ChatTab[]>([])\r\n  const [activeTabId, setActiveTabId] = useState<string>('')\r\n  const [isHydrated, setIsHydrated] = useState(false)\r\n  \r\n  // Load tabs from localStorage after hydration\r\n  useEffect(() => {\r\n    const loadTabs = (): ChatTab[] => {\r\n      const saved = localStorage.getItem(STORAGE_KEY_TABS)\r\n      if (saved) {\r\n        try {\r\n          return JSON.parse(saved)\r\n        } catch {\r\n          return []\r\n        }\r\n      }\r\n      return []\r\n    }\r\n    \r\n    const loadedTabs = loadTabs()\r\n    if (loadedTabs.length === 0) {\r\n      // Create default tab\r\n      const defaultTab: ChatTab = {\r\n        id: `tab-${Date.now()}`,\r\n        title: 'New Chat',\r\n        sessionId: null,\r\n        settings: {\r\n          serverId: '',\r\n          model: '',\r\n          temperature: 0.7,\r\n          systemPrompt: '',\r\n        }\r\n      }\r\n      setTabs([defaultTab])\r\n      setActiveTabId(defaultTab.id)\r\n    } else {\r\n      setTabs(loadedTabs)\r\n      const savedActiveTabId = localStorage.getItem(STORAGE_KEY_ACTIVE_TAB)\r\n      if (savedActiveTabId && loadedTabs.some(t => t.id === savedActiveTabId)) {\r\n        setActiveTabId(savedActiveTabId)\r\n      } else {\r\n        setActiveTabId(loadedTabs[0]?.id || '')\r\n      }\r\n    }\r\n    setIsHydrated(true)\r\n  }, [])\r\n  \r\n  // Memoize activeTab to prevent unnecessary re-renders\r\n  const activeTab = useMemo(() => {\r\n    if (!isHydrated || !activeTabId || tabs.length === 0) return null\r\n    return tabs.find(t => t.id === activeTabId) || tabs[0] || null\r\n  }, [isHydrated, activeTabId, tabs])\r\n  \r\n  const sessionId = activeTab?.sessionId || null\r\n  \r\n  // Use active tab settings\r\n  const [selectedServerId, setSelectedServerId] = useState<string>('')\r\n  const [selectedModel, setSelectedModel] = useState<string>('')\r\n  const [temperature, setTemperature] = useState<number>(0.7)\r\n  const [systemPrompt, setSystemPrompt] = useState<string>('')\r\n  const [showSettings, setShowSettings] = useState(false)\r\n  \r\n  // Update settings when active tab changes (only after hydration)\r\n  useEffect(() => {\r\n    if (isHydrated && activeTab) {\r\n      const settings = activeTab.settings || {}\r\n      setSelectedServerId(settings.serverId || '')\r\n      setSelectedModel(settings.model || '')\r\n      setTemperature(settings.temperature ?? 0.7)\r\n      setSystemPrompt(settings.systemPrompt || '')\r\n    }\r\n  }, [activeTabId, isHydrated]) // Removed activeTab from dependencies, use activeTabId instead\r\n  \r\n  // Server and model selection\r\n  const { data: servers } = useServers(true) // Only active servers\r\n  const { data: models } = useServerModels(selectedServerId)\r\n  \r\n  // Load chat session history for active tab (only after hydration)\r\n  const { data: sessionData, isLoading: isLoadingHistory } = useChatSession(\r\n    isHydrated && activeTab?.sessionId ? activeTab.sessionId : null\r\n  )\r\n  \r\n  const [messages, setMessages] = useState<Array<{ id: string; role: 'user' | 'assistant' | 'system'; content: string; created_at: string; model?: string; reasoning?: string; workflow_id?: string }>>([])\r\n  const [message, setMessage] = useState('')\r\n  const [isSending, setIsSending] = useState(false)\r\n  const messagesEndRef = useRef<HTMLDivElement>(null)\r\n  const textareaRef = useRef<HTMLTextAreaElement>(null)\r\n  \r\n  // Load messages from session when session data is loaded or tab changes (only after hydration)\r\n  useEffect(() => {\r\n    if (!isHydrated) return\r\n    \r\n    const currentSessionId = activeTab?.sessionId\r\n    if (sessionData?.messages && currentSessionId === sessionData.session_id) {\r\n      const formattedMessages = sessionData.messages.map((msg) => ({\r\n        id: msg.id,\r\n        role: msg.role as 'user' | 'assistant' | 'system',\r\n        content: msg.content,\r\n        created_at: msg.timestamp,\r\n        model: msg.model || undefined,\r\n        reasoning: (msg.metadata as any)?.reasoning || undefined,\r\n        workflow_id: (msg.metadata as any)?.workflow_id || undefined,\r\n      }))\r\n      setMessages(formattedMessages)\r\n    } else if (!currentSessionId) {\r\n      // Clear messages if no session\r\n      setMessages([])\r\n    }\r\n  }, [sessionData, activeTabId, isHydrated]) // Removed activeTab, use activeTabId instead\r\n  \r\n  // Save tab settings when they change (only after hydration)\r\n  useEffect(() => {\r\n    if (!isHydrated || !activeTabId) return\r\n    \r\n    setTabs(prevTabs => {\r\n      const updatedTabs = prevTabs.map(tab => \r\n        tab.id === activeTabId \r\n          ? { ...tab, settings: { serverId: selectedServerId, model: selectedModel, temperature, systemPrompt } }\r\n          : tab\r\n      )\r\n      localStorage.setItem(STORAGE_KEY_TABS, JSON.stringify(updatedTabs))\r\n      localStorage.setItem(STORAGE_KEY_ACTIVE_TAB, activeTabId)\r\n      return updatedTabs\r\n    })\r\n  }, [selectedServerId, selectedModel, temperature, systemPrompt, activeTabId, isHydrated])\r\n  \r\n  // Save tabs when they change (only after hydration)\r\n  useEffect(() => {\r\n    if (isHydrated && tabs.length > 0) {\r\n      localStorage.setItem(STORAGE_KEY_TABS, JSON.stringify(tabs))\r\n      if (activeTabId) {\r\n        localStorage.setItem(STORAGE_KEY_ACTIVE_TAB, activeTabId)\r\n      }\r\n    }\r\n  }, [tabs, activeTabId, isHydrated])\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' })\r\n  }\r\n\r\n  useEffect(() => {\r\n    scrollToBottom()\r\n  }, [messages])\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    if (!message.trim() || isSending || !isHydrated) return\r\n\r\n    const messageText = message.trim()\r\n    setMessage('')\r\n    setIsSending(true)\r\n\r\n    try {\r\n      // Add user message to local state immediately\r\n      const userMessage = {\r\n        id: `temp-${Date.now()}`,\r\n        role: 'user' as const,\r\n        content: messageText,\r\n        created_at: new Date().toISOString(),\r\n      }\r\n      setMessages(prev => [...prev, userMessage])\r\n\r\n      // Use a dummy task ID for general chat\r\n      const result = await sendMessage.mutateAsync({\r\n        taskId: 'general',\r\n        content: messageText,\r\n        sessionId: (isHydrated && activeTab?.sessionId) || undefined,\r\n        model: selectedModel || undefined,\r\n        serverId: selectedServerId || undefined,\r\n        temperature: temperature,\r\n        systemPrompt: systemPrompt || undefined,\r\n      }) as any\r\n      \r\n      // Update session ID if provided and update active tab\r\n      if (result.session_id && isHydrated && activeTabId) {\r\n        if (result.session_id !== sessionId) {\r\n          setTabs(prevTabs => prevTabs.map(tab =>\r\n            tab.id === activeTabId\r\n              ? { ...tab, sessionId: result.session_id }\r\n              : tab\r\n          ))\r\n        }\r\n      }\r\n\r\n      // Add assistant response if available\r\n      if (result.response) {\r\n        const assistantMessage = {\r\n          id: `msg-${Date.now()}`,\r\n          role: 'assistant' as const,\r\n          content: result.response,\r\n          created_at: new Date().toISOString(),\r\n          model: result.model,\r\n          reasoning: result.reasoning,\r\n          workflow_id: result.workflow_id,\r\n        }\r\n        setMessages(prev => [...prev, assistantMessage])\r\n      } else {\r\n        console.warn('No response from API:', result)\r\n        toast.error('No response received from the agent')\r\n        setMessages(prev => prev.filter(m => m.id !== userMessage.id))\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to send message:', error)\r\n      toast.error('Failed to send message. Please try again.')\r\n      // Remove user message on error\r\n      setMessages(prev => prev.filter(m => !m.id.startsWith('temp-')))\r\n    } finally {\r\n      setIsSending(false)\r\n      setTimeout(() => {\r\n        textareaRef.current?.focus()\r\n      }, 100)\r\n    }\r\n  }\r\n\r\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLTextAreaElement>) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault()\r\n      handleSubmit(e as any)\r\n    }\r\n  }\r\n  \r\n  // Tab management functions\r\n  const handleNewTab = () => {\r\n    const newTab: ChatTab = {\r\n      id: `tab-${Date.now()}`,\r\n      title: 'New Chat',\r\n      sessionId: null,\r\n      settings: {\r\n        serverId: '',\r\n        model: '',\r\n        temperature: 0.7,\r\n        systemPrompt: '',\r\n      }\r\n    }\r\n    setTabs(prevTabs => [...prevTabs, newTab])\r\n    setActiveTabId(newTab.id)\r\n  }\r\n  \r\n  const handleTabChange = (tabId: string) => {\r\n    setActiveTabId(tabId)\r\n  }\r\n  \r\n  const handleTabClose = async (tabId: string) => {\r\n    setTabs(prevTabs => {\r\n      if (prevTabs.length === 1) {\r\n        // Don't close the last tab, just reset it\r\n        const resetTab: ChatTab = {\r\n          id: tabId,\r\n          title: 'New Chat',\r\n          sessionId: null,\r\n          settings: prevTabs[0].settings\r\n        }\r\n        setActiveTabId(tabId)\r\n        setMessages([])\r\n        return [resetTab]\r\n      }\r\n      \r\n      const tabToClose = prevTabs.find(t => t.id === tabId)\r\n      if (tabToClose?.sessionId) {\r\n        // Delete session from backend (fire and forget)\r\n        api.chat.deleteSession(tabToClose.sessionId).catch(error => {\r\n          console.error('Failed to delete session:', error)\r\n        })\r\n      }\r\n      \r\n      const updatedTabs = prevTabs.filter(t => t.id !== tabId)\r\n      \r\n      // Switch to another tab if closing active one\r\n      if (activeTabId === tabId) {\r\n        const newActiveTab = updatedTabs[0]\r\n        if (newActiveTab) {\r\n          setActiveTabId(newActiveTab.id)\r\n        }\r\n      }\r\n      \r\n      return updatedTabs\r\n    })\r\n  }\r\n  \r\n  const handleDeleteChat = async () => {\r\n    if (!activeTab?.sessionId || !activeTabId) return\r\n    \r\n    try {\r\n      await api.chat.deleteSession(activeTab.sessionId)\r\n      toast.success('Chat deleted')\r\n      \r\n      // Reset tab\r\n      setTabs(prevTabs => prevTabs.map(tab => \r\n        tab.id === activeTabId \r\n          ? { ...tab, sessionId: null, title: 'New Chat' }\r\n          : tab\r\n      ))\r\n      setMessages([])\r\n    } catch (error: any) {\r\n      console.error('Failed to delete chat:', error)\r\n      toast.error(`Failed to delete chat: ${error.message || 'Unknown error'}`)\r\n    }\r\n  }\r\n  \r\n  const handleDeleteMessage = (messageId: string) => {\r\n    setMessages(prev => prev.filter(m => m.id !== messageId))\r\n    // Note: Backend doesn't support deleting individual messages yet\r\n    // This only removes from UI\r\n    toast.info('Message removed from view (not deleted from server)')\r\n  }\r\n  \r\n  // Update tab title when first message is sent (only after hydration)\r\n  useEffect(() => {\r\n    if (!isHydrated || !activeTabId) return\r\n    \r\n    if (messages.length > 0) {\r\n      const firstUserMessage = messages.find(m => m.role === 'user')\r\n      if (firstUserMessage) {\r\n        setTabs(prevTabs => {\r\n          const currentTab = prevTabs.find(t => t.id === activeTabId)\r\n          if (currentTab && (!currentTab.title || currentTab.title === 'New Chat')) {\r\n            const newTitle = firstUserMessage.content.slice(0, 50)\r\n            return prevTabs.map(tab =>\r\n              tab.id === activeTabId\r\n                ? { ...tab, title: newTitle }\r\n                : tab\r\n            )\r\n          }\r\n          return prevTabs\r\n        })\r\n      }\r\n    }\r\n  }, [messages.length, activeTabId, isHydrated])\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 py-8 max-w-[95%]\">\r\n      {/* Header */}\r\n      <div className=\"mb-6\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center space-x-4\">\r\n            <div className=\"h-12 w-12 rounded-full bg-primary flex items-center justify-center\">\r\n              <Bot className=\"h-6 w-6 text-primary-foreground\" />\r\n            </div>\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold tracking-tight\">\r\n                Chat with AI Agent\r\n              </h1>\r\n              <p className=\"text-muted-foreground mt-1\">\r\n                General conversation with AI agents\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex items-center gap-2\">\r\n            {isHydrated && activeTab?.sessionId && (\r\n              <Button\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                onClick={handleDeleteChat}\r\n                title=\"Delete chat\"\r\n              >\r\n                <Trash2 className=\"h-4 w-4 mr-2\" />\r\n                Delete Chat\r\n              </Button>\r\n            )}\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              onClick={() => setShowSettings(!showSettings)}\r\n            >\r\n              <Settings className=\"h-4 w-4 mr-2\" />\r\n              {showSettings ? 'Hide' : 'Show'} Settings\r\n              {showSettings ? <ChevronUp className=\"h-4 w-4 ml-2\" /> : <ChevronDown className=\"h-4 w-4 ml-2\" />}\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Chat Tabs */}\r\n      {isHydrated && (\r\n        <ChatTabs\r\n          tabs={tabs}\r\n          activeTabId={activeTabId}\r\n          onTabChange={handleTabChange}\r\n          onTabClose={handleTabClose}\r\n          onNewTab={handleNewTab}\r\n        />\r\n      )}\r\n\r\n      {/* Settings Panel */}\r\n      {showSettings && (\r\n        <Card className=\"mb-4\">\r\n          <CardHeader>\r\n            <CardTitle className=\"text-lg\">Chat Settings</CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"grid gap-4 md:grid-cols-3\">\r\n              {/* Server Selection */}\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"server\">Server</Label>\r\n                <Select\r\n                  value={selectedServerId}\r\n                  onValueChange={(value) => {\r\n                    setSelectedServerId(value)\r\n                    setSelectedModel('') // Reset model when server changes\r\n                  }}\r\n                >\r\n                  <SelectTrigger id=\"server\">\r\n                    <SelectValue placeholder=\"Auto-select (default)\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"\">Auto-select (default)</SelectItem>\r\n                    {(servers || []).map((server: any) => (\r\n                      <SelectItem key={server.id} value={server.id}>\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <Server className=\"h-4 w-4\" />\r\n                          {server.name}\r\n                          {server.is_default && (\r\n                            <span className=\"text-xs text-muted-foreground\">(default)</span>\r\n                          )}\r\n                        </div>\r\n                      </SelectItem>\r\n                    ))}\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n\r\n              {/* Model Selection */}\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"model\">Model</Label>\r\n                <Select\r\n                  value={selectedModel}\r\n                  onValueChange={setSelectedModel}\r\n                  disabled={!selectedServerId}\r\n                >\r\n                  <SelectTrigger id=\"model\">\r\n                    <SelectValue placeholder={selectedServerId ? \"Select model\" : \"Select server first\"} />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"\">Auto-select (default)</SelectItem>\r\n                    {(models || [])\r\n                      .filter((model: any) => model.is_active)\r\n                      .map((model: any) => (\r\n                        <SelectItem key={model.id} value={model.model_name}>\r\n                          <div className=\"flex flex-col\">\r\n                            <span>{model.name || model.model_name}</span>\r\n                            {model.capabilities && model.capabilities.length > 0 && (\r\n                              <span className=\"text-xs text-muted-foreground\">\r\n                                {model.capabilities.join(', ')}\r\n                              </span>\r\n                            )}\r\n                          </div>\r\n                        </SelectItem>\r\n                      ))}\r\n                  </SelectContent>\r\n                </Select>\r\n                {!selectedServerId && (\r\n                  <p className=\"text-xs text-muted-foreground\">\r\n                    Select a server first to choose a model\r\n                  </p>\r\n                )}\r\n              </div>\r\n\r\n              {/* Temperature */}\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"temperature\">\r\n                  Temperature: {temperature.toFixed(1)}\r\n                </Label>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Input\r\n                    id=\"temperature\"\r\n                    type=\"range\"\r\n                    min=\"0\"\r\n                    max=\"2\"\r\n                    step=\"0.1\"\r\n                    value={temperature}\r\n                    onChange={(e) => setTemperature(parseFloat(e.target.value))}\r\n                    className=\"flex-1\"\r\n                  />\r\n                  <Input\r\n                    type=\"number\"\r\n                    min=\"0\"\r\n                    max=\"2\"\r\n                    step=\"0.1\"\r\n                    value={temperature}\r\n                    onChange={(e) => setTemperature(parseFloat(e.target.value) || 0.7)}\r\n                    className=\"w-20\"\r\n                  />\r\n                </div>\r\n                <p className=\"text-xs text-muted-foreground\">\r\n                  Higher = more creative, Lower = more focused\r\n                </p>\r\n              </div>\r\n            </div>\r\n            \r\n            {/* System Prompt */}\r\n            <div className=\"mt-4 space-y-2\">\r\n              <Label htmlFor=\"system-prompt\">System Prompt</Label>\r\n              <Textarea\r\n                id=\"system-prompt\"\r\n                placeholder=\"Enter system prompt to provide context to the model (e.g., 'You are a helpful assistant specialized in Python programming')\"\r\n                value={systemPrompt}\r\n                onChange={(e) => setSystemPrompt(e.target.value)}\r\n                rows={4}\r\n                className=\"font-mono text-sm\"\r\n              />\r\n              <p className=\"text-xs text-muted-foreground\">\r\n                This prompt will be sent to the model to provide context and instructions for all messages in this chat.\r\n              </p>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Chat Messages */}\r\n      <Card className=\"mb-4\" style={{ height: 'calc(100vh - 300px)', minHeight: '400px' }}>\r\n        <CardContent className=\"p-0 h-full flex flex-col\">\r\n          <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\r\n            {isLoadingHistory ? (\r\n              <div className=\"flex items-center justify-center h-full\">\r\n                <div className=\"text-center\">\r\n                  <Loader2 className=\"h-12 w-12 mx-auto mb-4 text-muted-foreground animate-spin\" />\r\n                  <p className=\"text-muted-foreground\">\r\n                    Loading chat history...\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            ) : messages.length === 0 ? (\r\n              <div className=\"flex items-center justify-center h-full\">\r\n                <div className=\"text-center\">\r\n                  <Bot className=\"h-12 w-12 mx-auto mb-4 text-muted-foreground\" />\r\n                  <p className=\"text-muted-foreground\">\r\n                    Start a conversation with the AI agent!\r\n                  </p>\r\n                  <p className=\"text-sm text-muted-foreground mt-2\">\r\n                    You can ask questions, request help, or discuss tasks.\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <>\r\n                {messages.map((msg) => (\r\n                  <div\r\n                    key={msg.id}\r\n                    className={`flex gap-3 group ${\r\n                      msg.role === 'user' ? 'justify-end' : 'justify-start'\r\n                    }`}\r\n                  >\r\n                    {msg.role === 'assistant' && (\r\n                      <div className=\"h-8 w-8 rounded-full bg-primary flex items-center justify-center flex-shrink-0\">\r\n                        <Bot className=\"h-4 w-4 text-primary-foreground\" />\r\n                      </div>\r\n                    )}\r\n                    <div className=\"relative\">\r\n                      <Button\r\n                        variant=\"ghost\"\r\n                        size=\"sm\"\r\n                        className=\"absolute -top-2 -right-2 opacity-0 group-hover:opacity-100 h-6 w-6 p-0 z-10\"\r\n                        onClick={() => handleDeleteMessage(msg.id)}\r\n                        title=\"Delete message\"\r\n                      >\r\n                        <X className=\"h-3 w-3\" />\r\n                      </Button>\r\n                      <div\r\n                        className={`max-w-[85%] rounded-lg px-4 py-2 ${\r\n                          msg.role === 'user'\r\n                            ? 'bg-primary text-primary-foreground'\r\n                            : 'bg-muted'\r\n                        }`}\r\n                      >\r\n                      {msg.role === 'assistant' && msg.reasoning && (\r\n                        <details className=\"mb-3\">\r\n                          <summary className=\"text-xs text-muted-foreground cursor-pointer hover:text-foreground mb-2\">\r\n                              \r\n                          </summary>\r\n                          <div className=\"bg-muted/50 rounded p-2 text-xs text-muted-foreground break-words border-l-2 border-primary/30 pl-2\">\r\n                            <SimpleMarkdown content={msg.reasoning} />\r\n                          </div>\r\n                        </details>\r\n                      )}\r\n                      <SimpleMarkdown content={msg.content} />\r\n                      \r\n                      {/* Workflow Timeline */}\r\n                      {msg.role === 'assistant' && msg.workflow_id && (\r\n                        <details className=\"mt-3\">\r\n                          <summary className=\"text-xs text-muted-foreground cursor-pointer hover:text-foreground mb-2 flex items-center gap-2\">\r\n                            <Clock className=\"h-3 w-3\" />\r\n                            Execution Timeline\r\n                            <Link \r\n                              href={`/workflows/${msg.workflow_id}`}\r\n                              onClick={(e) => e.stopPropagation()}\r\n                              className=\"ml-auto\"\r\n                            >\r\n                              <Button variant=\"ghost\" size=\"sm\" className=\"h-5 px-2 text-xs\">\r\n                                Full View\r\n                              </Button>\r\n                            </Link>\r\n                          </summary>\r\n                          <div className=\"mt-2 border-t pt-2\">\r\n                            <WorkflowTimeline workflowId={msg.workflow_id} />\r\n                          </div>\r\n                        </details>\r\n                      )}\r\n                      \r\n                      <div className=\"flex items-center justify-between mt-1\">\r\n                        <p\r\n                          className={`text-xs ${\r\n                            msg.role === 'user'\r\n                              ? 'text-primary-foreground/70'\r\n                              : 'text-muted-foreground'\r\n                          }`}\r\n                        >\r\n                          {formatDistanceToNow(new Date(msg.created_at), {\r\n                            addSuffix: true,\r\n                          })}\r\n                        </p>\r\n                        {msg.role === 'assistant' && msg.model && (\r\n                          <p className=\"text-xs text-muted-foreground\">\r\n                            Model: {msg.model}\r\n                          </p>\r\n                        )}\r\n                      </div>\r\n                      </div>\r\n                    </div>\r\n                    {msg.role === 'user' && (\r\n                      <div className=\"h-8 w-8 rounded-full bg-muted flex items-center justify-center flex-shrink-0\">\r\n                        <User className=\"h-4 w-4 text-muted-foreground\" />\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n                {isSending && (\r\n                  <div className=\"flex gap-3 justify-start\">\r\n                    <div className=\"h-8 w-8 rounded-full bg-primary flex items-center justify-center flex-shrink-0\">\r\n                      <Bot className=\"h-4 w-4 text-primary-foreground\" />\r\n                    </div>\r\n                    <div className=\"bg-muted rounded-lg px-4 py-2\">\r\n                      <Loader2 className=\"h-4 w-4 animate-spin text-muted-foreground\" />\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                <div ref={messagesEndRef} />\r\n              </>\r\n            )}\r\n          </div>\r\n\r\n          {/* Message Input */}\r\n          <div className=\"border-t p-4\">\r\n            <form onSubmit={handleSubmit} className=\"flex gap-2\">\r\n              <Textarea\r\n                ref={textareaRef}\r\n                placeholder=\"Type your message... (Enter to send, Shift+Enter for new line)\"\r\n                value={message}\r\n                onChange={(e) => setMessage(e.target.value)}\r\n                onKeyDown={handleKeyDown}\r\n                rows={2}\r\n                className=\"resize-none flex-1\"\r\n                disabled={isSending}\r\n              />\r\n              <Button\r\n                type=\"submit\"\r\n                disabled={!message.trim() || isSending}\r\n                size=\"icon\"\r\n                className=\"h-auto\"\r\n              >\r\n                {isSending ? (\r\n                  <Loader2 className=\"h-4 w-4 animate-spin\" />\r\n                ) : (\r\n                  <Send className=\"h-4 w-4\" />\r\n                )}\r\n              </Button>\r\n            </form>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAnBA;;;;;;;;;;;;;;;;;;;AAqBA,MAAM,mBAAmB;AACzB,MAAM,yBAAyB;AAEhB,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,cAAc,IAAA,4IAAc;IAElC,0DAA0D;IAC1D,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAY,EAAE;IAC9C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAS;IACvD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAE7C,8CAA8C;IAC9C,IAAA,kNAAS,EAAC;QACR,MAAM,WAAW;YACf,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,IAAI,OAAO;gBACT,IAAI;oBACF,OAAO,KAAK,KAAK,CAAC;gBACpB,EAAE,OAAM;oBACN,OAAO,EAAE;gBACX;YACF;YACA,OAAO,EAAE;QACX;QAEA,MAAM,aAAa;QACnB,IAAI,WAAW,MAAM,KAAK,GAAG;YAC3B,qBAAqB;YACrB,MAAM,aAAsB;gBAC1B,IAAI,CAAC,IAAI,EAAE,KAAK,GAAG,IAAI;gBACvB,OAAO;gBACP,WAAW;gBACX,UAAU;oBACR,UAAU;oBACV,OAAO;oBACP,aAAa;oBACb,cAAc;gBAChB;YACF;YACA,QAAQ;gBAAC;aAAW;YACpB,eAAe,WAAW,EAAE;QAC9B,OAAO;YACL,QAAQ;YACR,MAAM,mBAAmB,aAAa,OAAO,CAAC;YAC9C,IAAI,oBAAoB,WAAW,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,mBAAmB;gBACvE,eAAe;YACjB,OAAO;gBACL,eAAe,UAAU,CAAC,EAAE,EAAE,MAAM;YACtC;QACF;QACA,cAAc;IAChB,GAAG,EAAE;IAEL,sDAAsD;IACtD,MAAM,YAAY,IAAA,gNAAO,EAAC;QACxB,IAAI,CAAC,cAAc,CAAC,eAAe,KAAK,MAAM,KAAK,GAAG,OAAO;QAC7D,OAAO,KAAK,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,gBAAgB,IAAI,CAAC,EAAE,IAAI;IAC5D,GAAG;QAAC;QAAY;QAAa;KAAK;IAElC,MAAM,YAAY,WAAW,aAAa;IAE1C,0BAA0B;IAC1B,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,iNAAQ,EAAS;IACjE,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAS;IAC3D,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAS;IACvD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAS;IACzD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IAEjD,iEAAiE;IACjE,IAAA,kNAAS,EAAC;QACR,IAAI,cAAc,WAAW;YAC3B,MAAM,WAAW,UAAU,QAAQ,IAAI,CAAC;YACxC,oBAAoB,SAAS,QAAQ,IAAI;YACzC,iBAAiB,SAAS,KAAK,IAAI;YACnC,eAAe,SAAS,WAAW,IAAI;YACvC,gBAAgB,SAAS,YAAY,IAAI;QAC3C;IACF,GAAG;QAAC;QAAa;KAAW,GAAE,+DAA+D;IAE7F,6BAA6B;IAC7B,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,IAAA,wIAAU,EAAC,MAAM,sBAAsB;;IACjE,MAAM,EAAE,MAAM,MAAM,EAAE,GAAG,IAAA,6IAAe,EAAC;IAEzC,kEAAkE;IAClE,MAAM,EAAE,MAAM,WAAW,EAAE,WAAW,gBAAgB,EAAE,GAAG,IAAA,4IAAc,EACvE,cAAc,WAAW,YAAY,UAAU,SAAS,GAAG;IAG7D,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAA8J,EAAE;IACxM,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,iBAAiB,IAAA,+MAAM,EAAiB;IAC9C,MAAM,cAAc,IAAA,+MAAM,EAAsB;IAEhD,+FAA+F;IAC/F,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,YAAY;QAEjB,MAAM,mBAAmB,WAAW;QACpC,IAAI,aAAa,YAAY,qBAAqB,YAAY,UAAU,EAAE;YACxE,MAAM,oBAAoB,YAAY,QAAQ,CAAC,GAAG,CAAC,CAAC,MAAQ,CAAC;oBAC3D,IAAI,IAAI,EAAE;oBACV,MAAM,IAAI,IAAI;oBACd,SAAS,IAAI,OAAO;oBACpB,YAAY,IAAI,SAAS;oBACzB,OAAO,IAAI,KAAK,IAAI;oBACpB,WAAW,AAAC,IAAI,QAAQ,EAAU,aAAa;oBAC/C,aAAa,AAAC,IAAI,QAAQ,EAAU,eAAe;gBACrD,CAAC;YACD,YAAY;QACd,OAAO,IAAI,CAAC,kBAAkB;YAC5B,+BAA+B;YAC/B,YAAY,EAAE;QAChB;IACF,GAAG;QAAC;QAAa;QAAa;KAAW,GAAE,6CAA6C;IAExF,4DAA4D;IAC5D,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,cAAc,CAAC,aAAa;QAEjC,QAAQ,CAAA;YACN,MAAM,cAAc,SAAS,GAAG,CAAC,CAAA,MAC/B,IAAI,EAAE,KAAK,cACP;oBAAE,GAAG,GAAG;oBAAE,UAAU;wBAAE,UAAU;wBAAkB,OAAO;wBAAe;wBAAa;oBAAa;gBAAE,IACpG;YAEN,aAAa,OAAO,CAAC,kBAAkB,KAAK,SAAS,CAAC;YACtD,aAAa,OAAO,CAAC,wBAAwB;YAC7C,OAAO;QACT;IACF,GAAG;QAAC;QAAkB;QAAe;QAAa;QAAc;QAAa;KAAW;IAExF,oDAAoD;IACpD,IAAA,kNAAS,EAAC;QACR,IAAI,cAAc,KAAK,MAAM,GAAG,GAAG;YACjC,aAAa,OAAO,CAAC,kBAAkB,KAAK,SAAS,CAAC;YACtD,IAAI,aAAa;gBACf,aAAa,OAAO,CAAC,wBAAwB;YAC/C;QACF;IACF,GAAG;QAAC;QAAM;QAAa;KAAW;IAElC,MAAM,iBAAiB;QACrB,eAAe,OAAO,EAAE,eAAe;YAAE,UAAU;QAAS;IAC9D;IAEA,IAAA,kNAAS,EAAC;QACR;IACF,GAAG;QAAC;KAAS;IAEb,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,IAAI,CAAC,QAAQ,IAAI,MAAM,aAAa,CAAC,YAAY;QAEjD,MAAM,cAAc,QAAQ,IAAI;QAChC,WAAW;QACX,aAAa;QAEb,IAAI;YACF,8CAA8C;YAC9C,MAAM,cAAc;gBAClB,IAAI,CAAC,KAAK,EAAE,KAAK,GAAG,IAAI;gBACxB,MAAM;gBACN,SAAS;gBACT,YAAY,IAAI,OAAO,WAAW;YACpC;YACA,YAAY,CAAA,OAAQ;uBAAI;oBAAM;iBAAY;YAE1C,uCAAuC;YACvC,MAAM,SAAS,MAAM,YAAY,WAAW,CAAC;gBAC3C,QAAQ;gBACR,SAAS;gBACT,WAAW,AAAC,cAAc,WAAW,aAAc;gBACnD,OAAO,iBAAiB;gBACxB,UAAU,oBAAoB;gBAC9B,aAAa;gBACb,cAAc,gBAAgB;YAChC;YAEA,sDAAsD;YACtD,IAAI,OAAO,UAAU,IAAI,cAAc,aAAa;gBAClD,IAAI,OAAO,UAAU,KAAK,WAAW;oBACnC,QAAQ,CAAA,WAAY,SAAS,GAAG,CAAC,CAAA,MAC/B,IAAI,EAAE,KAAK,cACP;gCAAE,GAAG,GAAG;gCAAE,WAAW,OAAO,UAAU;4BAAC,IACvC;gBAER;YACF;YAEA,sCAAsC;YACtC,IAAI,OAAO,QAAQ,EAAE;gBACnB,MAAM,mBAAmB;oBACvB,IAAI,CAAC,IAAI,EAAE,KAAK,GAAG,IAAI;oBACvB,MAAM;oBACN,SAAS,OAAO,QAAQ;oBACxB,YAAY,IAAI,OAAO,WAAW;oBAClC,OAAO,OAAO,KAAK;oBACnB,WAAW,OAAO,SAAS;oBAC3B,aAAa,OAAO,WAAW;gBACjC;gBACA,YAAY,CAAA,OAAQ;2BAAI;wBAAM;qBAAiB;YACjD,OAAO;gBACL,QAAQ,IAAI,CAAC,yBAAyB;gBACtC,iJAAK,CAAC,KAAK,CAAC;gBACZ,YAAY,CAAA,OAAQ,KAAK,MAAM,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,YAAY,EAAE;YAC9D;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B;YACzC,iJAAK,CAAC,KAAK,CAAC;YACZ,+BAA+B;YAC/B,YAAY,CAAA,OAAQ,KAAK,MAAM,CAAC,CAAA,IAAK,CAAC,EAAE,EAAE,CAAC,UAAU,CAAC;QACxD,SAAU;YACR,aAAa;YACb,WAAW;gBACT,YAAY,OAAO,EAAE;YACvB,GAAG;QACL;IACF;IAEA,MAAM,gBAAgB,CAAC;QACrB,IAAI,EAAE,GAAG,KAAK,WAAW,CAAC,EAAE,QAAQ,EAAE;YACpC,EAAE,cAAc;YAChB,aAAa;QACf;IACF;IAEA,2BAA2B;IAC3B,MAAM,eAAe;QACnB,MAAM,SAAkB;YACtB,IAAI,CAAC,IAAI,EAAE,KAAK,GAAG,IAAI;YACvB,OAAO;YACP,WAAW;YACX,UAAU;gBACR,UAAU;gBACV,OAAO;gBACP,aAAa;gBACb,cAAc;YAChB;QACF;QACA,QAAQ,CAAA,WAAY;mBAAI;gBAAU;aAAO;QACzC,eAAe,OAAO,EAAE;IAC1B;IAEA,MAAM,kBAAkB,CAAC;QACvB,eAAe;IACjB;IAEA,MAAM,iBAAiB,OAAO;QAC5B,QAAQ,CAAA;YACN,IAAI,SAAS,MAAM,KAAK,GAAG;gBACzB,0CAA0C;gBAC1C,MAAM,WAAoB;oBACxB,IAAI;oBACJ,OAAO;oBACP,WAAW;oBACX,UAAU,QAAQ,CAAC,EAAE,CAAC,QAAQ;gBAChC;gBACA,eAAe;gBACf,YAAY,EAAE;gBACd,OAAO;oBAAC;iBAAS;YACnB;YAEA,MAAM,aAAa,SAAS,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;YAC/C,IAAI,YAAY,WAAW;gBACzB,gDAAgD;gBAChD,2HAAG,CAAC,IAAI,CAAC,aAAa,CAAC,WAAW,SAAS,EAAE,KAAK,CAAC,CAAA;oBACjD,QAAQ,KAAK,CAAC,6BAA6B;gBAC7C;YACF;YAEA,MAAM,cAAc,SAAS,MAAM,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;YAElD,8CAA8C;YAC9C,IAAI,gBAAgB,OAAO;gBACzB,MAAM,eAAe,WAAW,CAAC,EAAE;gBACnC,IAAI,cAAc;oBAChB,eAAe,aAAa,EAAE;gBAChC;YACF;YAEA,OAAO;QACT;IACF;IAEA,MAAM,mBAAmB;QACvB,IAAI,CAAC,WAAW,aAAa,CAAC,aAAa;QAE3C,IAAI;YACF,MAAM,2HAAG,CAAC,IAAI,CAAC,aAAa,CAAC,UAAU,SAAS;YAChD,iJAAK,CAAC,OAAO,CAAC;YAEd,YAAY;YACZ,QAAQ,CAAA,WAAY,SAAS,GAAG,CAAC,CAAA,MAC/B,IAAI,EAAE,KAAK,cACP;wBAAE,GAAG,GAAG;wBAAE,WAAW;wBAAM,OAAO;oBAAW,IAC7C;YAEN,YAAY,EAAE;QAChB,EAAE,OAAO,OAAY;YACnB,QAAQ,KAAK,CAAC,0BAA0B;YACxC,iJAAK,CAAC,KAAK,CAAC,CAAC,uBAAuB,EAAE,MAAM,OAAO,IAAI,iBAAiB;QAC1E;IACF;IAEA,MAAM,sBAAsB,CAAC;QAC3B,YAAY,CAAA,OAAQ,KAAK,MAAM,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;QAC9C,iEAAiE;QACjE,4BAA4B;QAC5B,iJAAK,CAAC,IAAI,CAAC;IACb;IAEA,qEAAqE;IACrE,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,cAAc,CAAC,aAAa;QAEjC,IAAI,SAAS,MAAM,GAAG,GAAG;YACvB,MAAM,mBAAmB,SAAS,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK;YACvD,IAAI,kBAAkB;gBACpB,QAAQ,CAAA;oBACN,MAAM,aAAa,SAAS,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;oBAC/C,IAAI,cAAc,CAAC,CAAC,WAAW,KAAK,IAAI,WAAW,KAAK,KAAK,UAAU,GAAG;wBACxE,MAAM,WAAW,iBAAiB,OAAO,CAAC,KAAK,CAAC,GAAG;wBACnD,OAAO,SAAS,GAAG,CAAC,CAAA,MAClB,IAAI,EAAE,KAAK,cACP;gCAAE,GAAG,GAAG;gCAAE,OAAO;4BAAS,IAC1B;oBAER;oBACA,OAAO;gBACT;YACF;QACF;IACF,GAAG;QAAC,SAAS,MAAM;QAAE;QAAa;KAAW;IAE7C,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC,uMAAG;wCAAC,WAAU;;;;;;;;;;;8CAEjB,8OAAC;;sDACC,8OAAC;4CAAG,WAAU;sDAAoC;;;;;;sDAGlD,8OAAC;4CAAE,WAAU;sDAA6B;;;;;;;;;;;;;;;;;;sCAK9C,8OAAC;4BAAI,WAAU;;gCACZ,cAAc,WAAW,2BACxB,8OAAC,qIAAM;oCACL,SAAQ;oCACR,MAAK;oCACL,SAAS;oCACT,OAAM;;sDAEN,8OAAC,oNAAM;4CAAC,WAAU;;;;;;wCAAiB;;;;;;;8CAIvC,8OAAC,qIAAM;oCACL,SAAQ;oCACR,MAAK;oCACL,SAAS,IAAM,gBAAgB,CAAC;;sDAEhC,8OAAC,sNAAQ;4CAAC,WAAU;;;;;;wCACnB,eAAe,SAAS;wCAAO;wCAC/B,6BAAe,8OAAC,6NAAS;4CAAC,WAAU;;;;;iEAAoB,8OAAC,mOAAW;4CAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAOvF,4BACC,8OAAC,+IAAQ;gBACP,MAAM;gBACN,aAAa;gBACb,aAAa;gBACb,YAAY;gBACZ,UAAU;;;;;;YAKb,8BACC,8OAAC,iIAAI;gBAAC,WAAU;;kCACd,8OAAC,uIAAU;kCACT,cAAA,8OAAC,sIAAS;4BAAC,WAAU;sCAAU;;;;;;;;;;;kCAEjC,8OAAC,wIAAW;;0CACV,8OAAC;gCAAI,WAAU;;kDAEb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC,mIAAK;gDAAC,SAAQ;0DAAS;;;;;;0DACxB,8OAAC,qIAAM;gDACL,OAAO;gDACP,eAAe,CAAC;oDACd,oBAAoB;oDACpB,iBAAiB,KAAI,kCAAkC;gDACzD;;kEAEA,8OAAC,4IAAa;wDAAC,IAAG;kEAChB,cAAA,8OAAC,0IAAW;4DAAC,aAAY;;;;;;;;;;;kEAE3B,8OAAC,4IAAa;;0EACZ,8OAAC,yIAAU;gEAAC,OAAM;0EAAG;;;;;;4DACpB,CAAC,WAAW,EAAE,EAAE,GAAG,CAAC,CAAC,uBACpB,8OAAC,yIAAU;oEAAiB,OAAO,OAAO,EAAE;8EAC1C,cAAA,8OAAC;wEAAI,WAAU;;0FACb,8OAAC,gNAAM;gFAAC,WAAU;;;;;;4EACjB,OAAO,IAAI;4EACX,OAAO,UAAU,kBAChB,8OAAC;gFAAK,WAAU;0FAAgC;;;;;;;;;;;;mEALrC,OAAO,EAAE;;;;;;;;;;;;;;;;;;;;;;;kDAelC,8OAAC;wCAAI,WAAU;;0DACb,8OAAC,mIAAK;gDAAC,SAAQ;0DAAQ;;;;;;0DACvB,8OAAC,qIAAM;gDACL,OAAO;gDACP,eAAe;gDACf,UAAU,CAAC;;kEAEX,8OAAC,4IAAa;wDAAC,IAAG;kEAChB,cAAA,8OAAC,0IAAW;4DAAC,aAAa,mBAAmB,iBAAiB;;;;;;;;;;;kEAEhE,8OAAC,4IAAa;;0EACZ,8OAAC,yIAAU;gEAAC,OAAM;0EAAG;;;;;;4DACpB,CAAC,UAAU,EAAE,EACX,MAAM,CAAC,CAAC,QAAe,MAAM,SAAS,EACtC,GAAG,CAAC,CAAC,sBACJ,8OAAC,yIAAU;oEAAgB,OAAO,MAAM,UAAU;8EAChD,cAAA,8OAAC;wEAAI,WAAU;;0FACb,8OAAC;0FAAM,MAAM,IAAI,IAAI,MAAM,UAAU;;;;;;4EACpC,MAAM,YAAY,IAAI,MAAM,YAAY,CAAC,MAAM,GAAG,mBACjD,8OAAC;gFAAK,WAAU;0FACb,MAAM,YAAY,CAAC,IAAI,CAAC;;;;;;;;;;;;mEALhB,MAAM,EAAE;;;;;;;;;;;;;;;;;4CAahC,CAAC,kCACA,8OAAC;gDAAE,WAAU;0DAAgC;;;;;;;;;;;;kDAOjD,8OAAC;wCAAI,WAAU;;0DACb,8OAAC,mIAAK;gDAAC,SAAQ;;oDAAc;oDACb,YAAY,OAAO,CAAC;;;;;;;0DAEpC,8OAAC;gDAAI,WAAU;;kEACb,8OAAC,mIAAK;wDACJ,IAAG;wDACH,MAAK;wDACL,KAAI;wDACJ,KAAI;wDACJ,MAAK;wDACL,OAAO;wDACP,UAAU,CAAC,IAAM,eAAe,WAAW,EAAE,MAAM,CAAC,KAAK;wDACzD,WAAU;;;;;;kEAEZ,8OAAC,mIAAK;wDACJ,MAAK;wDACL,KAAI;wDACJ,KAAI;wDACJ,MAAK;wDACL,OAAO;wDACP,UAAU,CAAC,IAAM,eAAe,WAAW,EAAE,MAAM,CAAC,KAAK,KAAK;wDAC9D,WAAU;;;;;;;;;;;;0DAGd,8OAAC;gDAAE,WAAU;0DAAgC;;;;;;;;;;;;;;;;;;0CAOjD,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,mIAAK;wCAAC,SAAQ;kDAAgB;;;;;;kDAC/B,8OAAC,yIAAQ;wCACP,IAAG;wCACH,aAAY;wCACZ,OAAO;wCACP,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK;wCAC/C,MAAM;wCACN,WAAU;;;;;;kDAEZ,8OAAC;wCAAE,WAAU;kDAAgC;;;;;;;;;;;;;;;;;;;;;;;;0BASrD,8OAAC,iIAAI;gBAAC,WAAU;gBAAO,OAAO;oBAAE,QAAQ;oBAAuB,WAAW;gBAAQ;0BAChF,cAAA,8OAAC,wIAAW;oBAAC,WAAU;;sCACrB,8OAAC;4BAAI,WAAU;sCACZ,iCACC,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,4NAAO;4CAAC,WAAU;;;;;;sDACnB,8OAAC;4CAAE,WAAU;sDAAwB;;;;;;;;;;;;;;;;uCAKvC,SAAS,MAAM,KAAK,kBACtB,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,uMAAG;4CAAC,WAAU;;;;;;sDACf,8OAAC;4CAAE,WAAU;sDAAwB;;;;;;sDAGrC,8OAAC;4CAAE,WAAU;sDAAqC;;;;;;;;;;;;;;;;qDAMtD;;oCACG,SAAS,GAAG,CAAC,CAAC,oBACb,8OAAC;4CAEC,WAAW,CAAC,iBAAiB,EAC3B,IAAI,IAAI,KAAK,SAAS,gBAAgB,iBACtC;;gDAED,IAAI,IAAI,KAAK,6BACZ,8OAAC;oDAAI,WAAU;8DACb,cAAA,8OAAC,uMAAG;wDAAC,WAAU;;;;;;;;;;;8DAGnB,8OAAC;oDAAI,WAAU;;sEACb,8OAAC,qIAAM;4DACL,SAAQ;4DACR,MAAK;4DACL,WAAU;4DACV,SAAS,IAAM,oBAAoB,IAAI,EAAE;4DACzC,OAAM;sEAEN,cAAA,8OAAC,iMAAC;gEAAC,WAAU;;;;;;;;;;;sEAEf,8OAAC;4DACC,WAAW,CAAC,iCAAiC,EAC3C,IAAI,IAAI,KAAK,SACT,uCACA,YACJ;;gEAEH,IAAI,IAAI,KAAK,eAAe,IAAI,SAAS,kBACxC,8OAAC;oEAAQ,WAAU;;sFACjB,8OAAC;4EAAQ,WAAU;sFAA0E;;;;;;sFAG7F,8OAAC;4EAAI,WAAU;sFACb,cAAA,8OAAC,2JAAc;gFAAC,SAAS,IAAI,SAAS;;;;;;;;;;;;;;;;;8EAI5C,8OAAC,2JAAc;oEAAC,SAAS,IAAI,OAAO;;;;;;gEAGnC,IAAI,IAAI,KAAK,eAAe,IAAI,WAAW,kBAC1C,8OAAC;oEAAQ,WAAU;;sFACjB,8OAAC;4EAAQ,WAAU;;8FACjB,8OAAC,6MAAK;oFAAC,WAAU;;;;;;gFAAY;8FAE7B,8OAAC,uKAAI;oFACH,MAAM,CAAC,WAAW,EAAE,IAAI,WAAW,EAAE;oFACrC,SAAS,CAAC,IAAM,EAAE,eAAe;oFACjC,WAAU;8FAEV,cAAA,8OAAC,qIAAM;wFAAC,SAAQ;wFAAQ,MAAK;wFAAK,WAAU;kGAAmB;;;;;;;;;;;;;;;;;sFAKnE,8OAAC;4EAAI,WAAU;sFACb,cAAA,8OAAC;gFAAiB,YAAY,IAAI,WAAW;;;;;;;;;;;;;;;;;8EAKnD,8OAAC;oEAAI,WAAU;;sFACb,8OAAC;4EACC,WAAW,CAAC,QAAQ,EAClB,IAAI,IAAI,KAAK,SACT,+BACA,yBACJ;sFAED,IAAA,0KAAmB,EAAC,IAAI,KAAK,IAAI,UAAU,GAAG;gFAC7C,WAAW;4EACb;;;;;;wEAED,IAAI,IAAI,KAAK,eAAe,IAAI,KAAK,kBACpC,8OAAC;4EAAE,WAAU;;gFAAgC;gFACnC,IAAI,KAAK;;;;;;;;;;;;;;;;;;;;;;;;;gDAMxB,IAAI,IAAI,KAAK,wBACZ,8OAAC;oDAAI,WAAU;8DACb,cAAA,8OAAC,0MAAI;wDAAC,WAAU;;;;;;;;;;;;2CAnFf,IAAI,EAAE;;;;;oCAwFd,2BACC,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAU;0DACb,cAAA,8OAAC,uMAAG;oDAAC,WAAU;;;;;;;;;;;0DAEjB,8OAAC;gDAAI,WAAU;0DACb,cAAA,8OAAC,4NAAO;oDAAC,WAAU;;;;;;;;;;;;;;;;;kDAIzB,8OAAC;wCAAI,KAAK;;;;;;;;;;;;;sCAMhB,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAK,UAAU;gCAAc,WAAU;;kDACtC,8OAAC,yIAAQ;wCACP,KAAK;wCACL,aAAY;wCACZ,OAAO;wCACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;wCAC1C,WAAW;wCACX,MAAM;wCACN,WAAU;wCACV,UAAU;;;;;;kDAEZ,8OAAC,qIAAM;wCACL,MAAK;wCACL,UAAU,CAAC,QAAQ,IAAI,MAAM;wCAC7B,MAAK;wCACL,WAAU;kDAET,0BACC,8OAAC,4NAAO;4CAAC,WAAU;;;;;iEAEnB,8OAAC,0MAAI;4CAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASlC"}}]
}