{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/work/AARD/ui/lib/api/client.ts"],"sourcesContent":["// Base API configuration\r\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000'\r\n\r\nexport class ApiError extends Error {\r\n  constructor(\r\n    message: string,\r\n    public status: number,\r\n    public data?: any\r\n  ) {\r\n    super(message)\r\n    this.name = 'ApiError'\r\n  }\r\n}\r\n\r\nasync function fetchApi<T>(\r\n  endpoint: string,\r\n  options?: RequestInit\r\n): Promise<T> {\r\n  const url = `${API_BASE_URL}${endpoint}`\r\n  \r\n  const response = await fetch(url, {\r\n    ...options,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      ...options?.headers,\r\n    },\r\n  })\r\n\r\n  if (!response.ok) {\r\n    const errorData = await response.json().catch(() => ({}))\r\n    throw new ApiError(\r\n      errorData.message || 'API request failed',\r\n      response.status,\r\n      errorData\r\n    )\r\n  }\r\n\r\n  return response.json()\r\n}\r\n\r\n// Types\r\nexport interface Task {\r\n  task_id: string\r\n  description: string\r\n  status: string\r\n  created_at: string\r\n  updated_at: string\r\n  current_stage: string\r\n  progress_percent: number\r\n  plan_version?: number\r\n  current_step?: {\r\n    step_id: string\r\n    step_number: number\r\n    description: string\r\n    status: string\r\n    started_at?: string\r\n  }\r\n  total_steps: number\r\n  completed_steps: number\r\n  latest_logs: Array<{\r\n    timestamp: string\r\n    stage: string\r\n    model: string\r\n    content_preview: string\r\n  }>\r\n  agents_in_use: string[]\r\n  tools_in_use: string[]\r\n}\r\n\r\nexport interface TasksResponse {\r\n  tasks: Task[]\r\n  total: number\r\n}\r\n\r\nexport interface Plan {\r\n  id: string\r\n  task_id: string\r\n  version: number\r\n  goal: string\r\n  strategy?: string | {\r\n    approach?: string\r\n    assumptions?: string\r\n    constraints?: string\r\n    success_criteria?: string\r\n  }\r\n  steps: PlanStep[]\r\n  alternatives?: any[]\r\n  status: string\r\n  current_step?: number\r\n  estimated_duration?: number\r\n  actual_duration?: number\r\n  created_at: string\r\n  approved_at?: string\r\n}\r\n\r\nexport interface PlanStep {\r\n  step_id?: string\r\n  description: string\r\n  status?: string\r\n  assigned_agent?: string\r\n}\r\n\r\nexport interface Agent {\r\n  id: string\r\n  name: string\r\n  description?: string\r\n  status: string\r\n  capabilities?: string[]\r\n  version: number\r\n  created_at: string\r\n  updated_at: string\r\n  total_tasks_executed: number\r\n  successful_tasks: number\r\n  failed_tasks: number\r\n}\r\n\r\nexport interface Message {\r\n  id: string\r\n  task_id?: string\r\n  role: 'user' | 'assistant' | 'system'\r\n  content: string\r\n  created_at: string\r\n  session_id?: string\r\n  response?: string\r\n}\r\n\r\nexport interface Prompt {\r\n  id: string\r\n  name: string\r\n  prompt_text: string\r\n  prompt_type: string\r\n  level: number\r\n  version: number\r\n  status: string\r\n  success_rate?: number\r\n  usage_count: number\r\n  created_at: string\r\n  parent_prompt_id?: string\r\n  avg_execution_time?: number\r\n  user_rating?: number\r\n}\r\n\r\nexport interface PromptMetrics {\r\n  prompt_id: string\r\n  prompt_name: string\r\n  version: number\r\n  usage_count: number\r\n  success_rate?: number\r\n  avg_execution_time?: number\r\n  user_rating?: number\r\n  usage_history: any[]\r\n  total_history_entries: number\r\n}\r\n\r\n// API Client\r\nexport const api = {\r\n  // Tasks (using current-work endpoint)\r\n  tasks: {\r\n    list: () => fetchApi<TasksResponse>('/api/current-work/tasks').then(res => res.tasks),\r\n    get: (id: string) => fetchApi<Task>(`/api/current-work/task/${id}`),\r\n  },\r\n\r\n  // Plans\r\n  plans: {\r\n    list: (taskId?: string) => {\r\n      // Ensure taskId is a string, not an object\r\n      if (taskId !== undefined && taskId !== null) {\r\n        if (typeof taskId !== 'string') {\r\n          console.error('plans.list received non-string taskId:', taskId, typeof taskId)\r\n          // If it's an object, try to extract id\r\n          if (typeof taskId === 'object') {\r\n            const id = (taskId as any)?.id || (taskId as any)?.task_id\r\n            if (id && typeof id === 'string') {\r\n              return fetchApi<Plan[]>(`/api/plans?task_id=${id}`)\r\n            }\r\n          }\r\n          // Return all plans if invalid taskId\r\n          return fetchApi<Plan[]>('/api/plans')\r\n        }\r\n        // Valid string taskId\r\n        return fetchApi<Plan[]>(`/api/plans?task_id=${taskId}`)\r\n      }\r\n      // No taskId provided\r\n      return fetchApi<Plan[]>('/api/plans')\r\n    },\r\n    get: (id: string) => fetchApi<Plan>(`/api/plans/${id}`),\r\n    create: (taskId: string) =>\r\n      fetchApi<Plan>('/api/plans', {\r\n        method: 'POST',\r\n        body: JSON.stringify({ task_id: taskId }),\r\n      }),\r\n  },\r\n\r\n  // Agents\r\n  agents: {\r\n    list: () => fetchApi<Agent[]>('/api/agents'),\r\n    get: (id: string) => fetchApi<Agent>(`/api/agents/${id}`),\r\n    create: (data: {\r\n      name: string\r\n      description?: string\r\n      system_prompt?: string\r\n      capabilities?: string[]\r\n      model_preference?: string\r\n      temperature?: string\r\n      max_concurrent_tasks?: number\r\n      tags?: string[]\r\n    }) =>\r\n      fetchApi<Agent>('/api/agents', {\r\n        method: 'POST',\r\n        body: JSON.stringify(data),\r\n      }),\r\n    update: (id: string, data: {\r\n      description?: string\r\n      system_prompt?: string\r\n      capabilities?: string[]\r\n      model_preference?: string\r\n      temperature?: string\r\n      max_concurrent_tasks?: number\r\n      tags?: string[]\r\n    }) =>\r\n      fetchApi<Agent>(`/api/agents/${id}`, {\r\n        method: 'PUT',\r\n        body: JSON.stringify(data),\r\n      }),\r\n    activate: (id: string) =>\r\n      fetchApi<Agent>(`/api/agents/${id}/activate`, {\r\n        method: 'POST',\r\n      }),\r\n    pause: (id: string) =>\r\n      fetchApi<Agent>(`/api/agents/${id}/pause`, {\r\n        method: 'POST',\r\n      }),\r\n    deprecate: (id: string) =>\r\n      fetchApi<Agent>(`/api/agents/${id}/deprecate`, {\r\n        method: 'POST',\r\n      }),\r\n  },\r\n\r\n  // Messages/Chat\r\n  chat: {\r\n    sendMessage: (taskId: string, content: string, sessionId?: string) =>\r\n      fetchApi<{\r\n        response: string\r\n        model: string\r\n        task_type: string\r\n        duration_ms?: number\r\n        session_id?: string\r\n        trace_id?: string\r\n      }>('/api/chat', {\r\n        method: 'POST',\r\n        body: JSON.stringify({\r\n          message: content,\r\n          task_type: 'general_chat',\r\n          session_id: sessionId,\r\n        }),\r\n      }),\r\n    getHistory: (taskId: string) => {\r\n      // For now, return empty array as chat history is session-based\r\n      // TODO: Implement proper session management\r\n      return Promise.resolve([] as Message[])\r\n    },\r\n    getSession: (sessionId: string) =>\r\n      fetchApi<{ id: string; messages: Message[] }>(`/api/chat/session/${sessionId}`),\r\n  },\r\n\r\n  // Prompts\r\n  prompts: {\r\n    list: (params?: {\r\n      prompt_type?: string\r\n      status?: string\r\n      level?: number\r\n      name?: string\r\n      limit?: number\r\n      offset?: number\r\n    }) => {\r\n      const queryParams = new URLSearchParams()\r\n      if (params?.prompt_type) queryParams.append('prompt_type', params.prompt_type)\r\n      if (params?.status) queryParams.append('status', params.status)\r\n      if (params?.level !== undefined) queryParams.append('level', String(params.level))\r\n      if (params?.name) queryParams.append('name', params.name)\r\n      if (params?.limit) queryParams.append('limit', String(params.limit))\r\n      if (params?.offset) queryParams.append('offset', String(params.offset))\r\n      \r\n      const query = queryParams.toString()\r\n      return fetchApi<Prompt[]>(`/api/prompts${query ? `?${query}` : ''}`)\r\n    },\r\n    get: (id: string) => fetchApi<Prompt>(`/api/prompts/${id}`),\r\n    create: (data: {\r\n      name: string\r\n      prompt_text: string\r\n      prompt_type: string\r\n      level?: number\r\n    }) =>\r\n      fetchApi<Prompt>('/api/prompts', {\r\n        method: 'POST',\r\n        body: JSON.stringify(data),\r\n      }),\r\n    update: (id: string, data: {\r\n      name?: string\r\n      prompt_text?: string\r\n      status?: string\r\n    }) =>\r\n      fetchApi<Prompt>(`/api/prompts/${id}`, {\r\n        method: 'PUT',\r\n        body: JSON.stringify(data),\r\n      }),\r\n    delete: (id: string) =>\r\n      fetchApi<{ status: string; prompt_id: string }>(`/api/prompts/${id}`, {\r\n        method: 'DELETE',\r\n      }),\r\n    createVersion: (id: string, prompt_text: string) =>\r\n      fetchApi<Prompt>(`/api/prompts/${id}/version`, {\r\n        method: 'POST',\r\n        body: JSON.stringify({ prompt_text }),\r\n      }),\r\n    getVersions: (id: string) => fetchApi<Prompt[]>(`/api/prompts/${id}/versions`),\r\n    getMetrics: (id: string) => fetchApi<PromptMetrics>(`/api/prompts/${id}/metrics`),\r\n    deprecate: (id: string) =>\r\n      fetchApi<Prompt>(`/api/prompts/${id}/deprecate`, {\r\n        method: 'POST',\r\n      }),\r\n  },\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":["file:///C:/work/AARD/ui/lib/hooks/use-api.ts"],"sourcesContent":["'use client'\r\n\r\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\r\nimport { api, type Task, type Plan, type Agent, type Message, type Prompt } from '../api/client'\r\nimport { toast } from 'sonner'\r\n\r\n// Tasks hooks\r\nexport function useTasks() {\r\n  return useQuery({\r\n    queryKey: ['tasks'],\r\n    queryFn: api.tasks.list,\r\n  })\r\n}\r\n\r\nexport function useTask(id: string) {\r\n  return useQuery({\r\n    queryKey: ['tasks', id],\r\n    queryFn: () => api.tasks.get(id),\r\n    enabled: !!id,\r\n  })\r\n}\r\n\r\nexport function useCreateTask() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: api.tasks.create,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['tasks'] })\r\n      toast.success('Task created successfully')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to create task: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\nexport function useUpdateTask() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: ({ id, data }: { id: string; data: Partial<Task> }) =>\r\n      api.tasks.update(id, data),\r\n    onSuccess: (_, { id }) => {\r\n      queryClient.invalidateQueries({ queryKey: ['tasks'] })\r\n      queryClient.invalidateQueries({ queryKey: ['tasks', id] })\r\n      toast.success('Task updated successfully')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to update task: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\nexport function useDeleteTask() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: api.tasks.delete,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['tasks'] })\r\n      toast.success('Task deleted successfully')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to delete task: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\n// Plans hooks\r\nexport function usePlans(taskId?: string) {\r\n  return useQuery({\r\n    queryKey: ['plans', taskId],\r\n    queryFn: () => api.plans.list(taskId),\r\n    enabled: taskId ? typeof taskId === 'string' : true,\r\n  })\r\n}\r\n\r\nexport function usePlan(id: string) {\r\n  return useQuery({\r\n    queryKey: ['plans', id],\r\n    queryFn: () => api.plans.get(id),\r\n    enabled: !!id,\r\n  })\r\n}\r\n\r\nexport function useCreatePlan() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: api.plans.create,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['plans'] })\r\n      toast.success('Plan created successfully')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to create plan: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\n// Agents hooks\r\nexport function useAgents() {\r\n  return useQuery({\r\n    queryKey: ['agents'],\r\n    queryFn: api.agents.list,\r\n  })\r\n}\r\n\r\nexport function useAgent(id: string) {\r\n  return useQuery({\r\n    queryKey: ['agents', id],\r\n    queryFn: () => api.agents.get(id),\r\n    enabled: !!id,\r\n  })\r\n}\r\n\r\nexport function useCreateAgent() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: api.agents.create,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['agents'] })\r\n      toast.success('Agent created successfully')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to create agent: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\nexport function useUpdateAgent() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: ({ id, data }: { id: string; data: Partial<Agent> }) =>\r\n      api.agents.update(id, data),\r\n    onSuccess: (_, { id }) => {\r\n      queryClient.invalidateQueries({ queryKey: ['agents'] })\r\n      queryClient.invalidateQueries({ queryKey: ['agents', id] })\r\n      toast.success('Agent updated successfully')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to update agent: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\nexport function useActivateAgent() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: (id: string) => api.agents.activate(id),\r\n    onSuccess: (_, id) => {\r\n      queryClient.invalidateQueries({ queryKey: ['agents'] })\r\n      queryClient.invalidateQueries({ queryKey: ['agents', id] })\r\n      toast.success('Agent activated')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to activate agent: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\nexport function usePauseAgent() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: (id: string) => api.agents.pause(id),\r\n    onSuccess: (_, id) => {\r\n      queryClient.invalidateQueries({ queryKey: ['agents'] })\r\n      queryClient.invalidateQueries({ queryKey: ['agents', id] })\r\n      toast.success('Agent paused')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to pause agent: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\nexport function useDeprecateAgent() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: (id: string) => api.agents.deprecate(id),\r\n    onSuccess: (_, id) => {\r\n      queryClient.invalidateQueries({ queryKey: ['agents'] })\r\n      queryClient.invalidateQueries({ queryKey: ['agents', id] })\r\n      toast.success('Agent deprecated')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to deprecate agent: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\n// Chat hooks\r\nexport function useChatHistory(taskId: string) {\r\n  return useQuery({\r\n    queryKey: ['chat', taskId],\r\n    queryFn: () => api.chat.getHistory(taskId),\r\n    enabled: !!taskId,\r\n  })\r\n}\r\n\r\nexport function useSendMessage() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: ({ taskId, content, sessionId }: { taskId: string; content: string; sessionId?: string }) =>\r\n      api.chat.sendMessage(taskId, content, sessionId),\r\n    onSuccess: (_, { taskId }) => {\r\n      queryClient.invalidateQueries({ queryKey: ['chat', taskId] })\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to send message: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\n// Prompts hooks\r\nexport function usePrompts(params?: {\r\n  prompt_type?: string\r\n  status?: string\r\n  level?: number\r\n  name?: string\r\n}) {\r\n  return useQuery({\r\n    queryKey: ['prompts', params],\r\n    queryFn: () => api.prompts.list(params),\r\n  })\r\n}\r\n\r\nexport function usePrompt(id: string) {\r\n  return useQuery({\r\n    queryKey: ['prompts', id],\r\n    queryFn: () => api.prompts.get(id),\r\n    enabled: !!id,\r\n  })\r\n}\r\n\r\nexport function useCreatePrompt() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: api.prompts.create,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['prompts'] })\r\n      toast.success('Prompt created successfully')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to create prompt: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\nexport function useUpdatePrompt() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: ({ id, data }: { id: string; data: Partial<Prompt> }) =>\r\n      api.prompts.update(id, data),\r\n    onSuccess: (_, { id }) => {\r\n      queryClient.invalidateQueries({ queryKey: ['prompts'] })\r\n      queryClient.invalidateQueries({ queryKey: ['prompts', id] })\r\n      toast.success('Prompt updated successfully')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to update prompt: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\nexport function useDeletePrompt() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: api.prompts.delete,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['prompts'] })\r\n      toast.success('Prompt deleted successfully')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to delete prompt: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n\r\nexport function usePromptVersions(id: string) {\r\n  return useQuery({\r\n    queryKey: ['prompts', id, 'versions'],\r\n    queryFn: () => api.prompts.getVersions(id),\r\n    enabled: !!id,\r\n  })\r\n}\r\n\r\nexport function usePromptMetrics(id: string) {\r\n  return useQuery({\r\n    queryKey: ['prompts', id, 'metrics'],\r\n    queryFn: () => api.prompts.getMetrics(id),\r\n    enabled: !!id,\r\n  })\r\n}\r\n\r\nexport function useCreatePromptVersion() {\r\n  const queryClient = useQueryClient()\r\n  \r\n  return useMutation({\r\n    mutationFn: ({ id, prompt_text }: { id: string; prompt_text: string }) =>\r\n      api.prompts.createVersion(id, prompt_text),\r\n    onSuccess: (_, { id }) => {\r\n      queryClient.invalidateQueries({ queryKey: ['prompts'] })\r\n      queryClient.invalidateQueries({ queryKey: ['prompts', id] })\r\n      queryClient.invalidateQueries({ queryKey: ['prompts', id, 'versions'] })\r\n      toast.success('Prompt version created successfully')\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(`Failed to create prompt version: ${error.message}`)\r\n    },\r\n  })\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 874, "column": 0}, "map": {"version":3,"sources":["file:///C:/work/AARD/ui/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Card = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\r\n      \"rounded-xl border bg-card text-card-foreground shadow\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nCard.displayName = \"Card\"\r\n\r\nconst CardHeader = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\r\n    {...props}\r\n  />\r\n))\r\nCardHeader.displayName = \"CardHeader\"\r\n\r\nconst CardTitle = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"font-semibold leading-none tracking-tight\", className)}\r\n    {...props}\r\n  />\r\n))\r\nCardTitle.displayName = \"CardTitle\"\r\n\r\nconst CardDescription = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n))\r\nCardDescription.displayName = \"CardDescription\"\r\n\r\nconst CardContent = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\r\n))\r\nCardContent.displayName = \"CardContent\"\r\n\r\nconst CardFooter = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"flex items-center p-6 pt-0\", className)}\r\n    {...props}\r\n  />\r\n))\r\nCardFooter.displayName = \"CardFooter\"\r\n\r\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,2KAAgB,MAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,yDACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,2KAAgB,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,6CAA6C;QAC1D,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,2KAAgB,OAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,qHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,2KAAgB,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 981, "column": 0}, "map": {"version":3,"sources":["file:///C:/work/AARD/ui/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst badgeVariants = cva(\r\n  \"inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          \"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80\",\r\n        secondary:\r\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        destructive:\r\n          \"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80\",\r\n        outline: \"text-foreground\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nexport interface BadgeProps\r\n  extends React.HTMLAttributes<HTMLDivElement>,\r\n    VariantProps<typeof badgeVariants> {}\r\n\r\nfunction Badge({ className, variant, ...props }: BadgeProps) {\r\n  return (\r\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\r\n  )\r\n}\r\n\r\nexport { Badge, badgeVariants }\r\n"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,wKACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,6LAAC;QAAI,WAAW,IAAA,qHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS"}},
    {"offset": {"line": 1029, "column": 0}, "map": {"version":3,"sources":["file:///C:/work/AARD/ui/components/ui/progress.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Progress = React.forwardRef<\r\n  React.ElementRef<typeof ProgressPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\r\n>(({ className, value, ...props }, ref) => (\r\n  <ProgressPrimitive.Root\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative h-2 w-full overflow-hidden rounded-full bg-primary/20\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <ProgressPrimitive.Indicator\r\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\r\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\r\n    />\r\n  </ProgressPrimitive.Root>\r\n))\r\nProgress.displayName = ProgressPrimitive.Root.displayName\r\n\r\nexport { Progress }\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,yBAAW,2KAAgB,MAG/B,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,OAAO,EAAE,oBACjC,6LAAC,+KAAsB;QACrB,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,kEACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,oLAA2B;YAC1B,WAAU;YACV,OAAO;gBAAE,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC;YAAC;;;;;;;;;;;;AAIhE,SAAS,WAAW,GAAG,+KAAsB,CAAC,WAAW"}},
    {"offset": {"line": 1074, "column": 0}, "map": {"version":3,"sources":["file:///C:/work/AARD/ui/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nexport interface TextareaProps\r\n  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\r\n\r\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\r\n  ({ className, ...props }, ref) => {\r\n    return (\r\n      <textarea\r\n        className={cn(\r\n          \"flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50\",\r\n          className\r\n        )}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nTextarea.displayName = \"Textarea\"\r\n\r\nexport { Textarea }\r\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAKA,MAAM,yBAAW,2KAAgB,MAC/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,6LAAC;QACC,WAAW,IAAA,qHAAE,EACX,gQACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 1108, "column": 0}, "map": {"version":3,"sources":["file:///C:/work/AARD/ui/components/ui/label.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst labelVariants = cva(\r\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\r\n)\r\n\r\nconst Label = React.forwardRef<\r\n  React.ElementRef<typeof LabelPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\r\n    VariantProps<typeof labelVariants>\r\n>(({ className, ...props }, ref) => (\r\n  <LabelPrimitive.Root\r\n    ref={ref}\r\n    className={cn(labelVariants(), className)}\r\n    {...props}\r\n  />\r\n))\r\nLabel.displayName = LabelPrimitive.Root.displayName\r\n\r\nexport { Label }\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,IAAA,0KAAG,EACvB;AAGF,MAAM,sBAAQ,2KAAgB,MAI5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,4KAAmB;QAClB,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iBAAiB;QAC9B,GAAG,KAAK;;;;;;;AAGb,MAAM,WAAW,GAAG,4KAAmB,CAAC,WAAW"}},
    {"offset": {"line": 1146, "column": 0}, "map": {"version":3,"sources":["file:///C:/work/AARD/ui/app/prompts/%5Bid%5D/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { usePrompt, usePromptVersions, usePromptMetrics, useUpdatePrompt, useDeletePrompt, useCreatePromptVersion } from '@/lib/hooks/use-api'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Button } from '@/components/ui/button'\r\nimport { formatDistanceToNow } from 'date-fns'\r\nimport { ArrowLeft, FileText, CheckCircle, XCircle, Clock, Edit, Trash2, Copy, TrendingUp, GitBranch } from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport { useParams, useRouter } from 'next/navigation'\r\nimport { Progress } from '@/components/ui/progress'\r\nimport { useState, useEffect } from 'react'\r\nimport { toast } from 'sonner'\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogTrigger,\r\n} from '@/components/ui/dialog'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport { Label } from '@/components/ui/label'\r\n\r\nconst getStatusConfig = (status: string) => {\r\n  const statusLower = status?.toLowerCase() || ''\r\n  if (statusLower === 'active') {\r\n    return { label: 'Active', icon: CheckCircle, color: 'text-green-500', bg: 'bg-green-100' }\r\n  }\r\n  if (statusLower === 'testing') {\r\n    return { label: 'Testing', icon: Clock, color: 'text-yellow-500', bg: 'bg-yellow-100' }\r\n  }\r\n  if (statusLower === 'deprecated') {\r\n    return { label: 'Deprecated', icon: XCircle, color: 'text-red-500', bg: 'bg-red-100' }\r\n  }\r\n  return { label: status || 'Unknown', icon: Clock, color: 'text-gray-500', bg: 'bg-gray-100' }\r\n}\r\n\r\nconst getTypeConfig = (type: string) => {\r\n  const typeLower = type?.toLowerCase() || ''\r\n  const configs: Record<string, { label: string; color: string }> = {\r\n    system: { label: 'System', color: 'bg-blue-500' },\r\n    agent: { label: 'Agent', color: 'bg-purple-500' },\r\n    tool: { label: 'Tool', color: 'bg-orange-500' },\r\n    meta: { label: 'Meta', color: 'bg-pink-500' },\r\n    context: { label: 'Context', color: 'bg-cyan-500' },\r\n  }\r\n  return configs[typeLower] || { label: type || 'Unknown', color: 'bg-gray-500' }\r\n}\r\n\r\nexport default function PromptDetailPage() {\r\n  const params = useParams()\r\n  const router = useRouter()\r\n  const promptId = params.id as string\r\n  const { data: prompt, isLoading } = usePrompt(promptId)\r\n  const { data: versions } = usePromptVersions(promptId)\r\n  const { data: metrics } = usePromptMetrics(promptId)\r\n  const updatePrompt = useUpdatePrompt()\r\n  const deletePrompt = useDeletePrompt()\r\n  const createVersion = useCreatePromptVersion()\r\n  \r\n  const [isDeleting, setIsDeleting] = useState(false)\r\n  const [versionDialogOpen, setVersionDialogOpen] = useState(false)\r\n  const [newVersionText, setNewVersionText] = useState('')\r\n\r\n  const handleDelete = async () => {\r\n    if (!confirm('Are you sure you want to delete this prompt? This action cannot be undone.')) {\r\n      return\r\n    }\r\n\r\n    setIsDeleting(true)\r\n    try {\r\n      await deletePrompt.mutateAsync(promptId)\r\n      toast.success('Prompt deleted successfully')\r\n      router.push('/prompts')\r\n    } catch (error) {\r\n      console.error('Failed to delete prompt:', error)\r\n    } finally {\r\n      setIsDeleting(false)\r\n    }\r\n  }\r\n\r\n  const handleDeprecate = async () => {\r\n    try {\r\n      await updatePrompt.mutateAsync({\r\n        id: promptId,\r\n        data: { status: 'deprecated' },\r\n      })\r\n    } catch (error) {\r\n      console.error('Failed to deprecate prompt:', error)\r\n    }\r\n  }\r\n\r\n  const copyPromptText = () => {\r\n    if (prompt?.prompt_text) {\r\n      navigator.clipboard.writeText(prompt.prompt_text)\r\n      toast.success('Prompt text copied to clipboard')\r\n    }\r\n  }\r\n\r\n  const handleCreateVersion = async () => {\r\n    if (!newVersionText.trim()) return\r\n    \r\n    try {\r\n      const result = await createVersion.mutateAsync({\r\n        id: promptId,\r\n        prompt_text: newVersionText.trim(),\r\n      })\r\n      setVersionDialogOpen(false)\r\n      setNewVersionText('')\r\n      router.push(`/prompts/${result.id}`)\r\n    } catch (error) {\r\n      console.error('Failed to create version:', error)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (prompt) {\r\n      setNewVersionText(prompt.prompt_text)\r\n    }\r\n  }, [prompt])\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"container mx-auto px-4 py-8\">\r\n        <div className=\"space-y-4\">\r\n          <div className=\"h-8 bg-muted rounded w-1/4 animate-pulse\" />\r\n          <Card className=\"animate-pulse\">\r\n            <CardContent className=\"p-6\">\r\n              <div className=\"h-4 bg-muted rounded w-3/4 mb-4\" />\r\n              <div className=\"h-3 bg-muted rounded w-1/2\" />\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (!prompt) {\r\n    return (\r\n      <div className=\"container mx-auto px-4 py-8\">\r\n        <Card>\r\n          <CardContent className=\"p-12 text-center\">\r\n            <p className=\"text-muted-foreground mb-4\">Prompt not found</p>\r\n            <Link href=\"/prompts\">\r\n              <Button variant=\"outline\">\r\n                <ArrowLeft className=\"h-4 w-4 mr-2\" />\r\n                Back to Prompts\r\n              </Button>\r\n            </Link>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const statusConfig = getStatusConfig(prompt.status)\r\n  const typeConfig = getTypeConfig(prompt.prompt_type)\r\n  const StatusIcon = statusConfig.icon\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 py-8 max-w-5xl\">\r\n      {/* Header */}\r\n      <div className=\"mb-6\">\r\n        <Link href=\"/prompts\">\r\n          <Button variant=\"ghost\" className=\"mb-4\">\r\n            <ArrowLeft className=\"h-4 w-4 mr-2\" />\r\n            Back to Prompts\r\n          </Button>\r\n        </Link>\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center space-x-4\">\r\n            <div className={`h-12 w-12 rounded-full ${typeConfig.color} flex items-center justify-center`}>\r\n              <FileText className=\"h-6 w-6 text-white\" />\r\n            </div>\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold tracking-tight\">\r\n                {prompt.name}\r\n              </h1>\r\n              <div className=\"flex items-center space-x-2 mt-2\">\r\n                <Badge variant=\"outline\">{typeConfig.label}</Badge>\r\n                <Badge variant={statusConfig.label === 'Active' ? 'default' : 'secondary'}>\r\n                  {statusConfig.label}\r\n                </Badge>\r\n                {prompt.version > 1 && (\r\n                  <Badge variant=\"outline\">v{prompt.version}</Badge>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex gap-2\">\r\n            <Link href={`/prompts/${promptId}/edit`}>\r\n              <Button variant=\"outline\">\r\n                <Edit className=\"h-4 w-4 mr-2\" />\r\n                Edit\r\n              </Button>\r\n            </Link>\r\n            <Dialog open={versionDialogOpen} onOpenChange={setVersionDialogOpen}>\r\n              <DialogTrigger asChild>\r\n                <Button variant=\"outline\">\r\n                  <GitBranch className=\"h-4 w-4 mr-2\" />\r\n                  New Version\r\n                </Button>\r\n              </DialogTrigger>\r\n              <DialogContent className=\"max-w-2xl\">\r\n                <DialogHeader>\r\n                  <DialogTitle>Create New Version</DialogTitle>\r\n                  <DialogDescription>\r\n                    Create a new version of this prompt. The new version will be based on the current prompt text.\r\n                  </DialogDescription>\r\n                </DialogHeader>\r\n                <div className=\"space-y-4 py-4\">\r\n                  <div>\r\n                    <Label htmlFor=\"versionText\">Prompt Text</Label>\r\n                    <Textarea\r\n                      id=\"versionText\"\r\n                      value={newVersionText}\r\n                      onChange={(e) => setNewVersionText(e.target.value)}\r\n                      rows={12}\r\n                      className=\"mt-1 resize-none font-mono text-sm\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <DialogFooter>\r\n                  <Button variant=\"outline\" onClick={() => setVersionDialogOpen(false)}>\r\n                    Cancel\r\n                  </Button>\r\n                  <Button onClick={handleCreateVersion} disabled={!newVersionText.trim() || createVersion.isPending}>\r\n                    {createVersion.isPending ? 'Creating...' : 'Create Version'}\r\n                  </Button>\r\n                </DialogFooter>\r\n              </DialogContent>\r\n            </Dialog>\r\n            <Button variant=\"outline\" onClick={copyPromptText}>\r\n              <Copy className=\"h-4 w-4 mr-2\" />\r\n              Copy\r\n            </Button>\r\n            {prompt.status !== 'deprecated' && (\r\n              <Button variant=\"outline\" onClick={handleDeprecate}>\r\n                Deprecate\r\n              </Button>\r\n            )}\r\n            <Button variant=\"destructive\" onClick={handleDelete} disabled={isDeleting}>\r\n              <Trash2 className=\"h-4 w-4 mr-2\" />\r\n              Delete\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid gap-6 md:grid-cols-2\">\r\n        {/* Prompt Text */}\r\n        <Card className=\"md:col-span-2\">\r\n          <CardHeader>\r\n            <CardTitle>Prompt Text</CardTitle>\r\n            <CardDescription>\r\n              The actual prompt content\r\n            </CardDescription>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"bg-muted p-4 rounded-lg font-mono text-sm whitespace-pre-wrap break-words\">\r\n              {prompt.prompt_text}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Prompt Info */}\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle>Prompt Information</CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-4\">\r\n            <div>\r\n              <p className=\"text-sm text-muted-foreground\">Type</p>\r\n              <p className=\"font-medium\">{typeConfig.label}</p>\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-muted-foreground\">Level</p>\r\n              <p className=\"font-medium\">{prompt.level}</p>\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-muted-foreground\">Version</p>\r\n              <p className=\"font-medium\">{prompt.version}</p>\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-muted-foreground\">Status</p>\r\n              <div className=\"flex items-center gap-2\">\r\n                <StatusIcon className={`h-4 w-4 ${statusConfig.color}`} />\r\n                <p className=\"font-medium\">{statusConfig.label}</p>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-muted-foreground\">Created</p>\r\n              <p className=\"font-medium\">\r\n                {formatDistanceToNow(new Date(prompt.created_at), { addSuffix: true })}\r\n              </p>\r\n            </div>\r\n            {prompt.parent_prompt_id && (\r\n              <div>\r\n                <p className=\"text-sm text-muted-foreground\">Parent Prompt</p>\r\n                <Link href={`/prompts/${prompt.parent_prompt_id}`}>\r\n                  <Button variant=\"link\" className=\"p-0 h-auto\">\r\n                    View Parent\r\n                  </Button>\r\n                </Link>\r\n              </div>\r\n            )}\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Metrics */}\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle>Metrics</CardTitle>\r\n            <CardDescription>\r\n              Performance and usage statistics\r\n            </CardDescription>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-4\">\r\n            <div>\r\n              <div className=\"flex justify-between mb-2\">\r\n                <span className=\"text-sm text-muted-foreground\">Usage Count</span>\r\n                <span className=\"text-sm font-medium\">{prompt.usage_count || 0}</span>\r\n              </div>\r\n            </div>\r\n            {metrics && (\r\n              <>\r\n                {metrics.success_rate !== null && metrics.success_rate !== undefined && (\r\n                  <div>\r\n                    <div className=\"flex justify-between mb-2\">\r\n                      <span className=\"text-sm text-muted-foreground\">Success Rate</span>\r\n                      <span className=\"text-sm font-medium\">\r\n                        {(metrics.success_rate * 100).toFixed(1)}%\r\n                      </span>\r\n                    </div>\r\n                    <Progress value={metrics.success_rate * 100} />\r\n                  </div>\r\n                )}\r\n                {metrics.avg_execution_time !== null && metrics.avg_execution_time !== undefined && (\r\n                  <div>\r\n                    <p className=\"text-sm text-muted-foreground\">Avg Execution Time</p>\r\n                    <p className=\"font-medium\">{metrics.avg_execution_time.toFixed(2)}ms</p>\r\n                  </div>\r\n                )}\r\n                {metrics.user_rating !== null && metrics.user_rating !== undefined && (\r\n                  <div>\r\n                    <p className=\"text-sm text-muted-foreground\">User Rating</p>\r\n                    <p className=\"font-medium\">{metrics.user_rating.toFixed(1)}/5.0</p>\r\n                  </div>\r\n                )}\r\n              </>\r\n            )}\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Versions */}\r\n        {versions && versions.length > 1 && (\r\n          <Card className=\"md:col-span-2\">\r\n            <CardHeader>\r\n              <CardTitle>Versions</CardTitle>\r\n              <CardDescription>\r\n                All versions of this prompt\r\n              </CardDescription>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"space-y-3\">\r\n                {versions\r\n                  .sort((a, b) => b.version - a.version)\r\n                  .map((version) => (\r\n                    <div\r\n                      key={version.id}\r\n                      className={`flex items-center justify-between p-4 rounded-lg border ${\r\n                        version.id === prompt.id ? 'border-primary bg-accent' : ''\r\n                      }`}\r\n                    >\r\n                      <div className=\"flex items-center space-x-4\">\r\n                        <div>\r\n                          <div className=\"flex items-center space-x-2\">\r\n                            <span className=\"font-medium\">v{version.version}</span>\r\n                            {version.id === prompt.id && (\r\n                              <Badge variant=\"default\">Current</Badge>\r\n                            )}\r\n                            <Badge variant=\"outline\">{version.status}</Badge>\r\n                          </div>\r\n                          <p className=\"text-sm text-muted-foreground mt-1\">\r\n                            Created {formatDistanceToNow(new Date(version.created_at), { addSuffix: true })}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                      <Link href={`/prompts/${version.id}`}>\r\n                        <Button variant=\"ghost\" size=\"sm\">\r\n                          View\r\n                        </Button>\r\n                      </Link>\r\n                    </div>\r\n                  ))}\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}}]
}