# üîß WebSocket Fix

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

1. **WebSocket URL –æ–±–Ω–æ–≤–ª–µ–Ω** - —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π endpoint:
   - **–ë—ã–ª–æ**: `ws://localhost:8000/ws` ‚ùå
   - **–°—Ç–∞–ª–æ**: `ws://localhost:8000/api/ws/events` ‚úÖ

2. **–£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - WebSocket –Ω–µ –±—É–¥–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ –ø—ã—Ç–∞—Ç—å—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è

3. **–û–±–Ω–æ–≤–ª–µ–Ω .env.local** - –Ω–æ–≤—ã–π URL —Å–æ—Ö—Ä–∞–Ω–µ–Ω

## üöÄ –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

### 1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Frontend Dev Server

**–í–∞–∂–Ω–æ!** –ù—É–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —á—Ç–æ–±—ã –ø–æ–¥—Ö–≤–∞—Ç–∏—Ç—å –Ω–æ–≤—ã–π URL:

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ dev server (Ctrl+C)
# –ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–æ–≤–∞:
cd c:\work\AARD\ui
npm run dev
```

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ Backend –∑–∞–ø—É—â–µ–Ω

WebSocket endpoint: `/api/ws/events`

Backend –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω –Ω–∞ `http://localhost:8000`

### 3. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É

–û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ (F5).

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞:

1. ‚úÖ WebSocket –¥–æ–ª–∂–µ–Ω –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è (–µ—Å–ª–∏ backend –∑–∞–ø—É—â–µ–Ω)
2. ‚úÖ –í –∫–æ–Ω—Å–æ–ª–∏ –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
3. ‚úÖ –ï—Å–ª–∏ backend –Ω–µ –∑–∞–ø—É—â–µ–Ω - –æ—à–∏–±–∫–∏ –±—É–¥—É—Ç —Ç–∏—Ö–∏–º–∏ (–Ω–µ –±—É–¥—É—Ç —Å–ø–∞–º–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å)

## üìù WebSocket Endpoint

Backend WebSocket endpoint:
- **URL**: `ws://localhost:8000/api/ws/events`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: Real-time workflow events
- **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç**: 
  - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–æ –≤—Å–µ–º workflow: `/api/ws/events`
  - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É workflow: `/api/ws/events/{workflow_id}`

## üêõ Troubleshooting

### WebSocket –≤—Å–µ –µ—â–µ –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è?

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω**:
   ```bash
   curl http://localhost:8000/api/health
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ WebSocket endpoint**:
   - –û—Ç–∫—Ä–æ–π—Ç–µ DevTools ‚Üí Network ‚Üí WS
   - –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—Ä–æ—Å –∫ `ws://localhost:8000/api/ws/events`

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env.local**:
   ```
   NEXT_PUBLIC_WS_URL=ws://localhost:8000/api/ws/events
   ```

### Favicon 404?

–≠—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, –Ω–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å favicon –≤ `app/favicon.ico` –∏–ª–∏ `public/favicon.ico`

---

**–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ dev server WebSocket –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å!** üéâ
